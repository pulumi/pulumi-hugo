{{ define "hero" }}
    {{ partial "hero" (dict "title" .Params.title) }}
{{ end }}

{{ define "main" }}
    {{ $pageContext := . }}


    <section id="overview" class="max-w-5xl mx-auto text-center my-16 px-6">
        {{ with .Params.overview }}
            <h2>{{ .title }}</h2>
            <p class="text-left">{{ .description | markdownify }}</p>
            <div class="mt-8">
                <a href="/docs/intro/pulumi-service/deployments" class="btn-secondary">Get Started</a>
            </div>
        {{ end }}
    </section>

    <section id="deployments-graphic" class="max-w-4xl mx-auto text-center relative mb-16 px-6 lg:px-0">
        <div class="shape-background pulumi-service-screenshot">
            <div class="shape-container">
                <div class="circle-right"></div>
                <div class="circle-left"></div>
            </div>
        </div>

        <img class="card mx-auto bg-white" src="/images/product/pulumi-deployments-graphic.png" alt="Pulumi Deployments Architecture Screenshot" />
    </section>

    <section id="benefits" class="max-w-5xl mx-auto text-center my-16 px-6">
        {{ with .Params.benefits }}
            <h2>{{ .title }}</h2>
            <p class="text-left">{{ .description | markdownify }}</p>
        {{ end }}
    </section>

    <section id="preview" class="max-w-5xl mx-auto text-center my-8 px-6">
        <div class="card bg-white w-3/4 mx-auto" style="position: relative; padding-bottom: 40.25%; height: 0; overflow: hidden;">
            <iframe src="{{ .Params.preview.youtube_url }}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen=""></iframe>
        </div>
        <div class="mt-16">
            <a href="/docs/intro/pulumi-service/deployments/" class="btn-secondary">Get Started</a>
        </div>
    </section>

    <section id="options" class="container mx-auto text-center mt-16 px-6">
        <div class="max-w-5xl mx-auto text-center px-6">
            <h2>{{ .Params.options.title }}</h2>
            <div class="text-left">{{ .Params.options.description }}</div>
        </div>
        <div class="flex flex-wrap justify-content items-stretch text-left my-4">
            {{ range $item := .Params.options.items }}
                <div class="w-full lg:w-1/3 p-3">
                    <div class="h-full card bg-white p-12">
                        <div class="icon-section mb-8">
                            {{ partial "color-icon.html" (dict "icon" $item.icon "icon_color" $item.icon_color) }}
                        </div>
                        <div>
                            <h5>{{ $item.title }}</h5>
                        </div>
                        <div class="mt-6">
                            <p>{{ $item.description | markdownify }}</p>
                        </div>
                    </div>
                </div>
            {{ end }}
        </div>
    </section>

    <section id="learn" class="container mx-auto text-center mt-16 px-6">
        <div class="max-w-5xl mx-auto text-center px-6">
            <h2>{{ .Params.learn.title }}</h2>
            <div class="text-left">{{ .Params.learn.description }}</div>
        </div>
        <div class="flex flex-wrap justify-content items-stretch text-left my-4">
            {{ range $item := .Params.learn.items }}
                <div class="w-full lg:w-1/2 p-3">
                    <div class=" card h-full bg-white p-12">
                        <div>
                            <h5>{{ $item.title }}</h5>
                        </div>
                        <div class="mt-6">
                            <p>{{ $item.description | markdownify }}</p>
                        </div>
                        {{ range $button := $item.buttons }}
                            <div class="my-2 py-4">
                                <a href="{{ $button.link }}" class="btn-secondary">{{ $button.action }}</a>
                            </div>
                        {{ end }}
                    </div>
                </div>
            {{ end }}
        </div>
    </section>
{{ end }}
