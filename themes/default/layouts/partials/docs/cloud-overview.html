<section class="content cloud-overview">
    <h1 style="background-size: {{ .Params.h1_gradient_width }}px 12px; background-image: url(/images/docs/{{ .Params.h1_gradient_name }}-h1-gradient.svg);">{{ .Params.h1 }}</h1>
    <p>{{ .Params.description }}</p>

    <section class="get-started">
        <div class="col">
            {{ $get_started_guide := .Params.get_started_guide }}
            <a href="{{ $get_started_guide.link }}">
                <div class="card special">
                    <div class="heading">
                        <div class="icon icon-35-35 icon-get-started {{ $get_started_guide.icon }}-35-35"></div>
                        <p>Get started</p>
                    </div>
                    <div class="icon icon-24-24 icon-get-started-arrow right-arrow-gray"></div>
                </div>
            </a>
        </div>
    </section>

    <section class="providers">
        <div class="col">
            <h2>Providers</h2>
            <p>{{ .Params.providers.description }}</p>
            <div class="row cols-2">
                {{ $num_of_providers := .Params.providers.provider_list }}
                {{ range $index, $provider := $num_of_providers }}
                    {{ $card_background := "" }}
                    {{ if eq $index 0 }}
                        {{ $card_background = "card-gradient" }}
                    {{ end }}
                    <div class="card provider-card col {{ $card_background }}">
                        <div class="heading provider-heading">
                            {{ $display_name := $provider.display_name }}
                            {{ $first_half_name := $provider.display_name }}
                            {{ $second_half_name := "" }}
                            {{ if strings.Contains $display_name "Classic" }}
                                {{ $first_half_name = strings.TrimRight "Classic" $display_name }}
                                {{ $second_half_name = "Classic" }}
                            {{ else if strings.Contains $display_name "Native" }}
                                {{ $first_half_name = strings.TrimRight "Native" $display_name }}
                                {{ $second_half_name = " Native" }}
                            {{ end }}
                            <p>{{ $first_half_name }}<strong>{{ $second_half_name }}</strong></p>
                            {{ if $provider.public_preview }}
                                <p class="provider-label">Preview</p>
                            {{ else if $provider.recommended }}
                                <p class="provider-label">Recommended</p>
                            {{ end }}
                        </div>
                        {{ if ge (len $num_of_providers) 2 }}
                            <div class="col">
                                {{ range $content_link := $provider.content_links }}
                                    <a href="/registry/packages/{{ $content_link.url }}">
                                        <div class="card content-link">
                                            <div class="heading">
                                                <div class="icon icon-18-18 icon-left-of-card-label {{ $content_link.icon }}"></div>
                                                <p class="content-name">{{ $content_link.display_name }}</p>
                                            </div>
                                        </div>
                                    </a>
                                {{ end }}
                            </div>
                        {{ else }}
                            <div class="col">
                                {{ $content_links := $provider.content_links }}
                                {{ range $index, $content_link := $content_links }}
                                    {{ if eq (mod $index 2) 0 }}
                                        <div class="row cols-2">
                                            {{ $item1 := index $content_links $index }}
                                            {{ $item2 := index $content_links (add $index 1) }}
                                            <a href="/registry/packages/{{ $item1.url }}">
                                                <div class="card content-link">
                                                    <div class="heading">
                                                        <div class="icon icon-18-18 icon-left-of-card-label {{ $item1.icon }}"></div>
                                                        <p class="content-name">{{ $item1.display_name }}</p>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="/registry/packages/{{ $item2.url }}">
                                                <div class="card content-link">
                                                    <div class="heading">
                                                        <div class="icon icon-18-18 icon-left-of-card-label {{ $item2.icon }}"></div>
                                                        <p class="content-name">{{ $item2.display_name }}</p>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    {{ end }}
                                {{ end }}
                            </div>
                        {{ end }}
                    </div>
                {{ end }}
            </div>
        </div>
    </section>
    <section class="components card-outer card-gradient">
        <div class="card-heading card-heading-1">
            <h2>Components</h2>
            <div class="icon icon-24-24 icon-right-of-heading puzzle-piece-gray"></div>
        </div>
        <p>Components support all languages and group a set of resources together.</p>
        <div class="col">
            {{ $components := .Params.components }}
            {{ range $index, $component := $components }}
                {{ if eq (mod $index 2) 0 }}
                    <div class="row cols-2">
                        {{ $item1 := index $components $index }}
                        {{ $item2 := index $components (add $index 1) }}
                        {{ $item1_url := print "/registry/packages/" $item1.url }}
                        {{ $item2_url := print "/registry/packages/" $item2.url }}
                        {{ if $item1.link_outside_registry }}
                            {{ $item1_url =  $item1.url }}
                        {{ end }}
                        {{ if $item2.link_outside_registry }}
                            {{ $item2_url =  $item1.url }}
                        {{ end }}
                        <a href="{{ $item1_url }}">
                            <div class="card-inner">
                                <div>
                                    <p>{{ $item1.display_name }}</p>
                                </div>
                            </div>
                        </a>
                        {{ if $item2 }}
                            <a href="{{ $item2_url }}">
                                <div class="card-inner">
                                    <div>
                                        <p>{{ $item2.display_name }}</p>
                                    </div>
                                </div>
                            </a>
                        {{ end }}
                    </div>
                {{ end }}
            {{ end }}
        </div>
    </section>
    <section class="templates card-outer card-gradient">
        <div class="card-heading card-heading-1">
            <h2>Templates</h2>
            <div class="icon icon-24-24 icon-right-of-heading ruler-triangle-gray"></div>
        </div>
        <p>
            Pulumi templates are the fastest way to deploy infrastructure. After deploying, you can easily modify the infrastructure by updating the code in your language of
            choice.
        </p>
        <div class="col">
            {{ $templates := .Params.templates }}
            {{ range $index, $template := $templates }}
                {{ if eq (mod $index 2) 0 }}
                    <div class="row cols-2">
                        {{ $item1 := index $templates $index }}
                        {{ $item2 := index $templates (add $index 1) }}
                        <a href="/templates/{{ $item1.url }}">
                            <div class="card-inner">
                                <div>
                                    <p>{{ $item1.display_name }}</p>
                                </div>
                            </div>
                        </a>
                        <a href="/templates/{{ $item2.url }}">
                            <div class="card-inner">
                                <div>
                                    <p>{{ $item2.display_name }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                {{ end }}
            {{ end }}
        </div>
    </section>

    {{ if .Params.convert }}
        {{ range $convert := .Params.convert }}
            {{ $tools := $convert.tools }}
            {{ if not $tools }}
                <a href="{{ $convert.url }}">
                    <section class="convert card-outer card-outer-hover">
                        <div class="card-heading card-heading-2">
                            <div class="heading">
                                <div class="icon icon-21-21 icon-left-of-heading recycle-gray-21-21"></div>
                                <h2>{{ $convert.heading }}</h2>
                            </div>
                            <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                        </div>
                        <p>
                            {{ $convert.description }}
                        </p>
                    </section>
                </a>
            {{ else }}
                <section class="converters card-outer">
                    <div class="card-heading card-heading-1">
                        <h2>{{ $convert.heading }}</h2>
                        <div class="icon icon-24-24 icon-right-of-heading recycle-gray-24-24"></div>
                    </div>
                    <p>{{ $convert.description }}</p>
                    <div class="col">
                        {{ range $index, $converter := $tools }}
                            {{ if eq (mod $index 2) 0 }}
                                <div class="row cols-2">
                                    {{ $item1 := index $tools $index }}
                                    {{ $item2 := index $tools (add $index 1) }}
                                    <a href="{{ $item1.url }}">
                                        <div class="card-inner">
                                            <div>
                                                <p>{{ $item1.display_name }}</p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="{{ $item2.url }}">
                                        <div class="card-inner">
                                            <div>
                                                <p>{{ $item2.display_name }}</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            {{ end }}
                        {{ end }}
                    </div>
                </section>
            {{ end }}
        {{ end }}
    {{ end }}

    {{ $guides := .Params.guides }}
    {{ if $guides }}
        <section class="guides card-outer card-gradient">
            <div class="card-heading card-heading-1">
                <h2>Guides</h2>
                <div class="icon icon-24-24 icon-right-of-heading question-medium-gray"></div>
            </div>
            <p>
                {{ $guides.description }}
            </p>

            <div class="col">
                {{ range $guide := $guides.guides_list }}
                    <div class="row">
                        <a href="{{ $guide.url }}">
                            <div class="card-inner">
                                <div>
                                    <p>{{ $guide.display_name }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                {{ end }}
            </div>
        </section>
    {{ end }}

    {{ $policy := .Params.policy }}
    {{ if $policy }}
        <a class="test" href="/docs/using-pulumi/crossguard/{{ $policy.url }}">
            <section class="policies card-outer card-outer-hover">
                <div class="card-heading card-heading-2">
                    <div class="heading">
                        <div class="icon icon-21-21 icon-left-of-heading badge-gray"></div>
                        <h2>Policies</h2>
                    </div>
                    <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                </div>
                <p>
                    {{ $policy.description }}
                </p>
            </section>
        </a>
    {{ end }}

    {{ $cluster_management := .Params.kubernetes_cluster_management }}
    {{ if $cluster_management }}
        <section class="card-outer">
            <div class="card-heading card-heading-1">
                <h2>{{ $cluster_management.heading }}</h2>
            </div>
            <p>{{ $cluster_management.description }}</p>
            <div class="col">
                {{ $links := $cluster_management.links }}
                {{ range $index, $link := $links }}
                    {{ if eq (mod $index 2) 0 }}
                        <div class="row cols-2">
                            {{ $item1 := index $links $index }}
                            {{ $item2 := index $links (add $index 1) }}
                            <a href="{{ $item1.link }}">
                                <div class="card-inner">
                                    <div class="card-inner-content-1">
                                        <div class="icon icon-18-18 icon-left-of-card-label {{ $item1.icon }}-18-18"></div>
                                        <p>{{ $item1.display_name }}</p>
                                    </div>
                                </div>
                            </a>
                            <a href="{{ $item2.link }}">
                                <div class="card-inner">
                                    <div class="card-inner-content-1">
                                        <div class="icon icon-18-18 icon-left-of-card-label {{ $item2.icon }}-18-18"></div>
                                        <p>{{ $item2.display_name }}</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {{ end }}
                {{ end }}
            </div>
        </section>
    {{ end }}

    {{ $operator := .Params.kubernetes_operator }}
    {{ if $operator }}
        <section class="card-outer">
            <div class="card-heading card-heading-1">
                <h2>{{ $operator.heading }}</h2>
            </div>
            <p>{{ $operator.description_1 }}</p>
            <p>{{ $operator.description_2 }}</p>
            <div class="col">
                {{ range $link := $operator.links }}
                    <div class="row">
                        <a href="{{ $link.url }}">
                            <div class="card-inner">
                                <div class="card-inner-content-1">
                                    <div class="icon icon-18-18 icon-left-of-card-label {{ $link.icon }}"></div>
                                    <p>{{ $link.display_name }}</p>
                                </div>
                                {{ if $link.has_arrow }}
                                    <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                                {{ end }}
                            </div>
                        </a>
                    </div>
                {{ end }}
            </div>
        </section>
    {{ end }}
</section>
