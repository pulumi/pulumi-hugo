<section class="content cloud-overview">
    <h1 style="background-size: {{ .Params.h1_gradient_width }}px 12px; background-image: url(/images/docs/{{ .Params.h1_gradient_name }}-h1-gradient.svg);">{{ .Params.h1 }}</h1>
    <p class="top-para">{{ .Params.description }}</p>

    <section class="get-started">
        <div class="col">
            <a href="{{ .Params.get_started_guide }}">
                <div class="card special">
                    <div class="heading">
                        <div class="icon icon-21-21 icon-left-of-heading play-blue"></div>
                        <p>Get started</p>
                    </div>
                    <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                </div>
            </a>
        </div>
    </section>

    <section class="providers">
        <div class="col">
            <h2>Providers</h2>
            <p>The AWS Classic provider can provision many AWS cloud resources. Use the AWS Native provider for same-day access to all AWS resources.</p>
            <div class="row">
                {{ $num_of_providers := .Params.providers }}
                {{ range $provider := $num_of_providers }}
                    <div class="card provider-card col card-gradient">
                        <div class="heading">
                            {{ $display_name := $provider.display_name }}
                            {{ $first_half_name := $provider.display_name }}
                            {{ $second_half_name := "" }}
                            {{ if strings.Contains $display_name "Classic" }}
                                {{ $first_half_name = strings.TrimRight "Classic" $display_name }}
                                {{ $second_half_name = "Classic" }}
                            {{ else if strings.Contains $display_name "Native" }}
                                {{ $first_half_name = strings.TrimRight "Native" $display_name }}
                                {{ $second_half_name = " Native" }}
                            {{ end }}
                            <p>{{ $first_half_name }}<strong>{{ $second_half_name }}</strong></p>
                        </div>
                        {{ if ge (len $num_of_providers) 2 }}
                            <div class="col">
                                {{ range $content_link := $provider.content_links }}
                                    <a href="/registry/packages/{{ $content_link.url }}">
                                        <div class="card content-link">
                                            <div class="heading">
                                                <div class="icon icon-18-18 icon-left-of-heading {{ $content_link.icon }}"></div>
                                                <p class="content-name">{{ $content_link.display_name }}</p>
                                            </div>
                                        </div>
                                    </a>
                                {{ end }}
                            </div>
                        {{ else }}
                            <div class="col">
                                {{ $content_links := $provider.content_links }}
                                {{ range $index, $content_link := $content_links }}
                                    {{ if eq (mod $index 2) 0 }}
                                        <div class="row">
                                            {{ $item1 := index $content_links $index }}
                                            {{ $item2 := index $content_links (add $index 1) }}
                                            <a href="/registry/packages/{{ $item1.url }}">
                                                <div class="card content-link">
                                                    <div class="heading">
                                                        <div class="icon icon-18-18 icon-left-of-heading {{ $item1.icon }}"></div>
                                                        <p class="content-name">{{ $item1.display_name }}</p>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="/registry/packages/{{ $item2.url }}">
                                                <div class="card content-link">
                                                    <div class="heading">
                                                        <div class="icon icon-18-18 icon-left-of-heading {{ $item2.icon }}"></div>
                                                        <p class="content-name">{{ $item2.display_name }}</p>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    {{ end }}
                                {{ end }}
                            </div>
                        {{ end }}
                    </div>
                {{ end }}
            </div>
        </div>
    </section>
    <section class="components card-heading-para-inner-cards card-gradient">
        <div class="heading parent-heading">
            <h2>Components</h2>
            <div class="icon icon-24-24 icon-right-of-heading puzzle-piece-gray"></div>
        </div>
        <p>Components support all languages and group a set of resources together.</p>
        <div class="col">
            {{ $components := .Params.components }}
            {{ range $index, $component := $components }}
                {{ if eq (mod $index 2) 0 }}
                    <div class="row">
                        {{ $item1 := index $components $index }}
                        {{ $item2 := index $components (add $index 1) }}
                        <a href="/registry/packages/{{ $item1.url }}">
                            <div class="card">
                                <div class="heading">
                                    <p>{{ $item1.display_name }}</p>
                                </div>
                            </div>
                        </a>
                        {{ if $item2 }}
                            <a href="/registry/packages/{{ $item2.url }}">
                                <div class="card">
                                    <div class="heading">
                                        <p>{{ $item2.display_name }}</p>
                                    </div>
                                </div>
                            </a>
                        {{ end }}
                    </div>
                {{ end }}
            {{ end }}
        </div>
    </section>

    <section class="templates card-heading-para-inner-cards card-gradient">
        <div class="heading parent-heading">
            <h2>Templates</h2>
            <div class="icon icon-24-24 icon-right-of-heading ruler-triangle-gray"></div>
        </div>
        <p>
            Pulumi templates are the fastest way to deploy infrastructure. After deploying, you can easily modify the infrastructure by updating the code in your language of
            choice.
        </p>
        <div class="col">
            {{ $templates := .Params.templates }}
            {{ range $index, $template := $templates }}
                {{ if eq (mod $index 2) 0 }}
                    <div class="row">
                        {{ $item1 := index $templates $index }}
                        {{ $item2 := index $templates (add $index 1) }}
                        <a href="/templates/{{ $item1.url }}">
                            <div class="card">
                                <div class="heading">
                                    <p>{{ $item1.display_name }}</p>
                                </div>
                            </div>
                        </a>
                        <a href="/templates/{{ $item2.url }}">
                            <div class="card">
                                <div class="heading">
                                    <p>{{ $item2.display_name }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                {{ end }}
            {{ end }}
        </div>
    </section>

    {{ if .Params.convert }}
        {{ range $convert := .Params.convert }}
            {{ $tools := $convert.tools }}
            {{ if not $tools }}
                <a href="{{ $convert.url }}">
                    <section class="convert card-heading-para">
                        <div class="top">
                            <div class="heading">
                                <div class="icon icon-21-21 icon-left-of-heading recycle-gray"></div>
                                <h2>{{ $convert.heading }}</h2>
                            </div>
                            <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                        </div>
                        <p>
                            {{ $convert.description }}
                        </p>
                    </section>
                </a>
            {{ else }}
                <section class="convert card-heading-para">
                    <div class="top">
                        <div class="heading">
                            <div class="icon icon-21-21 icon-left-of-heading recycle-gray"></div>
                            <h2>{{ $convert.heading }}</h2>
                        </div>
                        <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                    </div>
                    {{ if $tools }}
                        <div class="tools row">
                            {{ range $converter := $tools }}
                                <div class="col">
                                    <a href="{{ $converter.url }}">
                                        <div class="card">
                                            <div class="heading">
                                                <p>{{ $converter.display_name }}</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            {{ end }}
                        </div>
                    {{ end }}
                </section>
            {{ end }}
        {{ end }}
    {{ end }}

    {{ $guides := .Params.guides }}
    {{ if $guides }}
        <section class="guides card-heading-para-inner-cards card-gradient">
            <div class="heading parent-heading">
                <h2>Guides</h2>
                <div class="icon icon-24-24 icon-right-of-heading question-medium-gray"></div>
            </div>
            <p>
                {{ $guides.description }}
            </p>

            <div class="col">
                {{ range $guide := $guides.guides_list }}
                    <div class="row">
                        <a href="{{ $guide.url }}">
                            <div class="card">
                                <div class="heading">
                                    <p>{{ $guide.display_name }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                {{ end }}
            </div>
        </section>
    {{ end }}

    {{ $policy := .Params.policy }}
    {{ if $policy }}
        <a class="test" href="/docs/using-pulumi/crossguard/{{ $policy.url }}">
            <section class="policies card-heading-para">
                <div class="top">
                    <div class="heading">
                        <div class="icon icon-21-21 icon-left-of-heading badge-gray"></div>
                        <h2>Policies</h2>
                    </div>
                    <div class="icon icon-24-24 icon-right-of-heading right-arrow-gray"></div>
                </div>
                <p>
                    {{ $policy.description }}
                </p>
            </section>
        </a>
    {{ end }}

    {{ $operator := .Params.kubernetes_operator }}
    {{ if $operator }}
        <section class="guides card-heading-para-inner-cards">
            <div class="heading parent-heading">
                <h2>{{ $operator.heading }}</h2>
            </div>
            <p>{{ $operator.description_1 }}</p>
            <p>{{ $operator.description_2 }}</p>
            <div class="col">
                {{ range $link := $operator.links }}
                    <div class="row">
                        <a href="{{ $link.url }}">
                            <div class="card">
                                <div class="heading">
                                    <p>{{ $link.display_name }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                {{ end }}
            </div>
        </section>
    {{ end }}
</section>
