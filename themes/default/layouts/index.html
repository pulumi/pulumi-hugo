{{ define "hero" }}
    <header class="home-page-hero">
        <div class="dot-background-container pointer-events-none">
            <div class="dot-background"></div>
        </div>
        <div class="dot-overlay"></div>
        <div class="container mx-auto lg:flex mt-8 px-3">
            <div class="w-full lg:w-1/2 lg:pr-12 xl:pr-0 md:pl-3 xl:pl-0">
                <div class="home-page-hero-content">
                    <h1 class="relative text-left">
                        <span class="rainbow-text" data-text="{{ index (.Params.hero.title) 0 }}">{{ index (.Params.hero.title) 0 }}</span><br />
                        <span class="rainbow-text" data-text="{{ index (.Params.hero.title) 1 }}">{{ index (.Params.hero.title) 1 }}</span><br />
                        <span class="rainbow-text" data-text="{{ index (.Params.hero.title) 2 }}">{{ index (.Params.hero.title) 2 }}</span>
                    </h1>
                    <p class="text-center lg:text-left leading-7">{{ .Params.hero.description | markdownify }}</p>
                    <div class="overlay-middle mt-8 flex text-center justify-center items-center flex-col mx-auto lg:mx-0 md:flex-row">
                        <a class="home-hero-btn-primary mr-0 md:mr-4 mb-3 md:mb-0" href="{{ relref . "/docs/get-started" }}">{{ .Params.hero.cta_text }}</a>
                        <div class="btn-secondary px-12 py-2 rounded-full cursor-pointer">
                            <a href="{{ relref . "/docs/get-started/install" }}">
                                Download<br />
                                <span>Open Source</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-full lg:w-1/2 block lg:flex lg:justify-center p-6 md:pl-24 xl:pl-0">
                <div>
                    <pulumi-chooser type="language" options="typescript,python,go,csharp,java,yaml">
                        <pulumi-choosable type="language" class="highlight" value="typescript">
                            <img class="mx-auto" src="/images/home/typescript.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="python">
                            <img class="mx-auto" src="/images/home/python.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="go">
                            <img class="mx-auto" src="/images/home/go.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="csharp">
                            <img class="mx-auto" src="/images/home/c-sharp.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="java">
                            <img class="mx-auto" src="/images/home/java.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="yaml">
                            <img class="mx-auto" src="/images/home/yaml.svg" alt="" />
                        </pulumi-choosable>
                    </pulumi-chooser>
                </div>
            </div>
        </div>
    </header>
{{ end }}

{{ define "main" }}
    {{ $pageContext := . }}


    <section class="bg-violet-200">
        <div class="container mx-auto py-6">
            <div class="flex flex-wrap justify-center align-center">
                <div class="w-full lg:w-1/2 text-center lg:text-left">
                    <h4>Universal Infrastructure as Code</h4>
                    <p>Every cloud, every language, every architecture, every builder</p>
                </div>

                <div class="w-full lg:w-1/2 mt-4">
                    <home-slots
                        image-class="h-16 mx-auto"
                        left-items="{{ delimit .Params.overview.logos.clouds "," }}"
                        center-items="{{ delimit .Params.overview.logos.languages "," }}"
                        right-items="{{ delimit .Params.overview.logos.identity "," }}"
                    ></home-slots>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits -->
    <section class="container mx-auto my-12 lg:my-24 relative">
        <h2 class="text-center">{{ .Params.benefits.title }}</h2>
        <div class="benefits-section relative">
            <div class="shape-background home-benefits-section">
                <div class="shape-container">
                    <div class="circle-left"></div>
                    <div class="circle-right"></div>
                </div>
            </div>
            {{ range $item := .Params.benefits.items }}
                <div class="benefits-item card z-10 bg-white">
                    <div class="icon-section">
                        {{ partial "color-icon.html" (dict "icon" $item.icon "icon_color" $item.icon_color) }}
                    </div>
                    <div>
                        <h5>{{ $item.title }}</h5>
                    </div>
                    <div class="description">
                        <p>{{ $item.description | markdownify }}</p>
                    </div>
                </div>
            {{ end }}
        </div>
    </section>

    <section class="mb-8 mt-12 lg:mt-0 lg:mb-24 px-6 lg:px-0 relative">
        <div class="shape-background home-build-section">
            <div class="shape-container">
                <div class="circle-left"></div>
                <div class="circle-center"></div>
                <div class="circle-right"></div>
            </div>
        </div>

        <div class="container mx-auto">
            <div class="flex flex-col lg:flex-row">
                <div class="w-full lg:w-1/2 lg:mr-32 z-10 px-8 rounded">
                    <h2>{{ .Params.build.title }}</h2>
                    <p class="text-lg">{{ .Params.build.description | markdownify }}</p>

                    {{ range $item := .Params.build.items }}
                        <h6>{{ $item.title }}</h6>
                        <p>{{ $item.description | markdownify }}</p>
                    {{ end }}


                    <div class="mt-16">
                        {{ partial "cta/primary-get-started" . }}
                    </div>
                </div>

                <div class="w-full lg:w-1/2 flex items-start justify-center mt-12 lg:mt-0">
                    <pulumi-chooser type="language" options="typescript,python,go,csharp,java,yaml">
                        <pulumi-choosable type="language" class="highlight" value="typescript">
                            <img src="/images/home/typescript.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="python">
                            <img src="/images/home/python.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="go">
                            <img src="/images/home/go.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="csharp">
                            <img src="/images/home/c-sharp.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="java">
                            <img src="/images/home/java.svg" alt="" />
                        </pulumi-choosable>

                        <pulumi-choosable type="language" class="highlight" value="yaml">
                            <img src="/images/home/yaml.svg" alt="" />
                        </pulumi-choosable>
                    </pulumi-chooser>
                </div>
            </div>

            <div class="flex flex-col lg:flex-row justify-center items-stretch my-8 lg:my-32 px-6 lg:px-0">
                {{ range $item := .Params.use_cases }}
                    <div class="card p-10 mx-4 text-center bg-white z-10 h-full my-6 lg:my-0">
                        <div>
                            {{ partial "color-icon.html" (dict "icon" $item.icon "icon_color" $item.icon_color) }}
                        </div>
                        <h5>{{ $item.title }}</h5>
                        <p>{{ $item.description | markdownify }}</p>
                    </div>
                {{ end }}
            </div>
        </div>
    </section>

    <section class="py-12 lg:my-12 px-6 lg:px-0 relative">
        <div class="shape-background home-deploy-section">
            <div class="shape-container">
                <div class="dot-background-container">
                    <div class="dot-background-overlay"></div>
                    <div class="dot-background no-animate"></div>
                </div>
                <div class="circle-left"></div>
                <div class="circle-right"></div>
            </div>
        </div>

        <div class="container mx-auto flex flex-col lg:flex-row">
            <div class="w-full lg:w-1/2 flex items-center justify-center mt-12 lg:mt-0">
                <img class="rounded-xl shadow-2xl" src="/images/home/deploy-graphic.svg" alt="Pulumi Pipeline" />
            </div>
            <div class="w-full lg:w-1/2 order-first lg:order-last lg:ml-32 z-10 bg-white px-8 rounded">
                <h2>{{ .Params.deploy.title }}</h2>
                <p class="text-lg">{{ .Params.deploy.description | markdownify }}</p>

                {{ range $item := .Params.deploy.items }}
                    <h6>{{ $item.title }}</h6>
                    <p>{{ $item.description | markdownify }}</p>
                {{ end }}


                <div class="mt-16">
                    {{ partial "cta/primary-get-started" . }}
                </div>
            </div>
        </div>
    </section>

    <section class="my-12 lg:py-12 px-6 lg:px-0 relative">
        <div class="shape-background home-manage-section">
            <div class="shape-container">
                <div class="dot-background-container">
                    <div class="dot-background-overlay"></div>
                    <div class="dot-background no-animate"></div>
                </div>
                <div class="circle-left"></div>
                <div class="circle-right"></div>
            </div>
        </div>

        <div class="container mx-auto flex flex-col lg:flex-row">
            <div class="w-full lg:w-1/2 lg:mr-32 z-10 bg-white px-8 rounded">
                <h2>{{ .Params.manage.title }}</h2>
                <p class="text-lg">{{ .Params.manage.description | markdownify }}</p>

                {{ range $item := .Params.manage.items }}
                    <h6>{{ $item.title }}</h6>
                    <p>{{ $item.description | markdownify }}</p>
                {{ end }}


                <div class="mt-16">
                    {{ partial "cta/primary-get-started" . }}
                </div>
            </div>

            <div class="w-full lg:w-1/2 flex items-center justify-center mt-12 lg:mt-0">
                <img class="rounded-xl shadow-2xl" src="/images/home/pulumi-console.svg" alt="Pulumi Service" />
            </div>
        </div>
    </section>

    <!-- Logos -->
    <section class="container mx-auto text-center my-0 mb-16 lg:my-24 overflow-hidden px-3">
        <div class="mb-16">
            <h3>Atlassian reduced time spent on maintenance by 50%</h3>
            <div class="max-w-2xl mx-auto text-center">
                <div class="max-w-xs mx-auto">
                    {{ partial "customer-logo.html" (dict "logo" "atlassian") }}
                </div>
                <p class="mt-0">
                    "Using Pulumi and Python, our team quickly and easily built a repeatable pipeline that deploys development environments for more than 100 team members
                    worldwide. The benefits of working in languages we know can’t be overstated. That just made moving to the Pulumi Cloud Engineering Platform an obvious choice
                    for the team."
                </p>
                <p>- Mike Corsaro, Senior Software Engineer at Bitbucket</p>
                <div class="mt-12 flex flex-col sm:flex-row justify-center flex-grow">
                    <a class="btn-primary mb-6 sm:mr-2 sm:mb-0" href="{{ relref . "/case-studies/atlassian" }}">Read Atlassian Case Study</a>
                    <a class="btn-secondary" href="{{ relref . "/case-studies" }}">See more case studies</a>
                </div>
            </div>
        </div>

        <h3 class="text-center mb-10 hidden lg:block">{{ .Params.customer_logos.title }}</h3>
        <h6 class="text-center mb-10 lg:hidden">{{ .Params.customer_logos.title }}</h6>
        <div class="w-full order-first pb-16 items-center justify-center lg:hidden">
            <pulumi-swiper slides="3" centered-slides="true" loop="true" autoplay="true" autoplay-delay="500" speed="2000">
                {{ range $logo := .Params.customer_logos.logos }}
                    <pulumi-swipeable>
                        <div class="p-4 flex flex-col flex-grow items-end h-24 justify-center">
                            {{ if $logo.link }}
                                <a href="{{ relref $pageContext $logo.link }}">
                                    {{ partial "customer-logo.html" (dict "logo" $logo.name "hoverable" true) }}
                                </a>
                            {{ else }}
                                {{ partial "customer-logo.html" (dict "logo" $logo.name "hoverable" true) }}
                            {{ end }}
                        </div>
                    </pulumi-swipeable>
                {{ end }}
            </pulumi-swiper>
        </div>
        <div class="w-full order-first pb-16 items-center justify-center lg:block hidden">
            <pulumi-swiper slides="6" centered-slides="true" loop="true" autoplay="true" autoplay-delay="500" speed="2000">
                {{ range $logo := .Params.customer_logos.logos }}
                    <pulumi-swipeable>
                        <div class="p-8 flex flex-col flex-grow items-end h-24 justify-center">
                            {{ if $logo.link }}
                                <a href="{{ relref $pageContext $logo.link }}">
                                    {{ partial "customer-logo.html" (dict "logo" $logo.name "hoverable" true) }}
                                </a>
                            {{ else }}
                                {{ partial "customer-logo.html" (dict "logo" $logo.name "hoverable" true) }}
                            {{ end }}
                        </div>
                    </pulumi-swipeable>
                {{ end }}
            </pulumi-swiper>
        </div>
    </section>

    <!-- Video -->
    <section class="container mx-auto mt-28 relative">
        <div class="shape-background home-video-section">
            <div class="shape-container">
                <div class="circle-left"></div>
                <div class="circle-right"></div>
            </div>
        </div>
        <div class="rounded-xl shadow-2xl w-3/4 mx-auto" style="position: relative; padding-bottom: 40.25%; height: 0; overflow: hidden;">
            <iframe
                src="//www.youtube.com/embed/6f8KF6UGN7g?rel=0"
                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"
                allowfullscreen=""
                title="Introduction to Pulumi: Universal Infrastructure as Code"
                srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img{position:absolute;width:100%;top:0;bottom:0;margin:auto}</style><a href=https://www.youtube.com/embed/6f8KF6UGN7g?autoplay=1><img src='/images/home/youtube-preview.svg' alt='Introduction to Pulumi: Universal Infrastructure as Code'></a>"
            ></iframe>
        </div>
    </section>

    <!-- Get Started -->
    <section class="my-16 lg:my-32 lg:pt-48 relative overflow-hidden flex flex-col">
        <div class="container mx-auto px-3">
            <div class="w-full bg-violet-600 text-white rounded shadow p-16 lg:pt-56 text-center">
                <h2 class="text-white">{{ .Params.get_started.title }}</h2>
                <p class="text-white">{{ .Params.get_started.description }}</p>
                <div class="mt-16">
                    <a class="btn-secondary" href="{{ relref . "/docs/get-started" }}">{{ .Params.get_started.cta_text }}</a>
                </div>
            </div>
        </div>

        <div class="w-full order-first pb-16 lg:hidden">
            <pulumi-swiper slides="1" centered-slides="true" initial-slide="3" loop="true" autoplay="true" autoplay-delay="5000" speed="1000">
                {{ range $tweet := .Params.get_started.tweets }}
                    <pulumi-swipeable>
                        <div class="w-full px-4">
                            <div class="flex flex-col card p-6 bg-white h-56">
                                <p class="text-left mt-0">{{ $tweet.text }}</p>
                                <div class="flex flex-grow items-end">
                                    <div>
                                        <img class="rounded-full w-12 h-12" src="{{ $tweet.avatar }}" />
                                    </div>
                                    <p class="ml-4 text-gray-600">{{ $tweet.username }}</p>
                                    <div class="flex-grow flex justify-end my-4">
                                        <img src="/logos/tech/twitter.svg" alt="Twitter" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </pulumi-swipeable>
                {{ end }}
            </pulumi-swiper>
        </div>
        <div class="large-container mx-auto absolute top-0 left-0 pt-16 hidden lg:block">
            <pulumi-swiper slides="3" centered-slides="true" initial-slide="3" loop="true" autoplay="true" autoplay-delay="4000" speed="1000">
                {{ range $tweet := .Params.get_started.tweets }}
                    <pulumi-swipeable>
                        <div class="w-full px-4 text-left">
                            <div class="flex flex-col card p-6 bg-white h-64">
                                <p class="flex-grow mt-0">{{ $tweet.text }}</p>
                                <div class="flex items-center w-full">
                                    <a href="{{ $tweet.link }}" target="_blank" rel="noopener noreferrer">
                                        <!-- If the browser fails to load the Twitter avatar, just hide it. -->
                                        <img class="rounded-full border-none w-12 h-12 mr-4" src="{{ $tweet.avatar }}" onerror="$(this).hide();" />
                                    </a>
                                    <a href="{{ $tweet.link }}" class="flex-grow text-gray-600 hover:text-gray-600 hover:underline" target="_blank" rel="noopener noreferrer">
                                        {{ $tweet.username }}
                                    </a>
                                    <img src="/logos/tech/twitter.svg" alt="Twitter" />
                                </div>
                            </div>
                        </div>
                    </pulumi-swipeable>
                {{ end }}
            </pulumi-swiper>
        </div>
    </section>
{{ end }}
