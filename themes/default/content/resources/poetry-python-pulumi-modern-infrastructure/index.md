---
preview_image:
hero:
  image: /icons/containers.svg
  title: "Poetry, Python, and Pulumi: Modern Infrastructure"
title: "Poetry, Python, and Pulumi: Modern Infrastructure"
meta_desc: |
    Learn how to set up Poetry, a dependency management system for Python, with Pulumi in this short episode of Modern Infrastructure.
url_slug: poetry-python-pulumi-modern-infrastructure
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "Poetry, Python, and Pulumi: Modern Infrastructure"
  description: |
    Learn how to set up Poetry, a dependency management system for Python, with Pulumi in this short episode of Modern Infrastructure.  ✅ Get Started with Pulumi: https://pulumip.us/Get-Started ✅ Create a Pulumi account. It's free: https://pulumip.us/Sign-Up-OpenSource  00:00 Intro 00:26 pulumi new 01:50 poetry init 03:09 poetry install 03:30 Clean up Pulumi files 04:15 Run poetry with Pulumi 04:48 Conclusion
  sortable_date: 2022-11-22T19:22:23Z
  youtube_url: https://www.youtube.com/embed/GI4oT5fikhY
transcript: |
    Hey folks, Laura here for another quick modern infrastructure. One of the most common questions we get for Pythonista is actually going through and setting up poetry with Pulumi. And we thought a quick little video would be really helpful for those of you interested in using poetry with Pulumi. So, on that note, let's head over to the terminal and I'll show you how to set it all up. All right. And here we are, I've just created a directory. There's nothing else in here just yet. So we're ready to get going. What we need to do is we certainly can do a Pulumi New Python if you want to, where it will set up all the virtual environment, do all of those sorts of things. If you want to just create it and initialize the poetry environment first and then just add the various bits of Pulumi stuff. You can do that where you create your Duma dunder dot pi, your Pulumi dot yaml file. And then you can do a ploy stack, select DEV to generate that initial stack on Pulumi itself. But we're going to take the more traditional route today and do a Pulumi new Python. So all it's gonna do is just ask for the project name, a description and the stack and then it's going to go through and generate the entire virtual environment which we're gonna very, very quickly delete. So a little bit of movie magic here as this gets started. All right, and there it is all done, ready to go. So what we need to do here is we can actually just see we have our virtual environment, our requirements dot text. If we take a look at that requirements dot text, all we have in here is Pulumi, that's all we need. So in this case, here's how we set up poetry. So we're gonna just do a poetry in it just as you would normally do, give it a name, give it a version, maybe a description. So testing poetry with Pulumi and give it the author if you want. I'm gonna give it an mit license. I'm using 3.10. Why not define everything interactively? So in this case, all I want is Pulumi and yeah, the top one is exactly what I want. Now, here's where you would put in all of the version information that we had before where we have that anywhere between 3.0 0.0 and 4.0 0.0. I'm just gonna use the latest because I'm like that and that's it. That's all of the dependencies. I need to set up again. It's up to you, we look, take a look at this generated file, everything is ready to go, just confirm it. And this also probably will take a while because of GRP Cio. So if it does a little bit of movie magic here, you'll get a chance to explore it. Oh, maybe not, right? Because we have to do the install first. So this is the part when we go through. If we take a look at everything, now, we already have our virtual environment, our requirements dot text. But now we see that pi project dot Tom is already ready and set to go. So we do need to install those dependencies and this is the part that can take a little while because of GRP Cio and there it is all installed ready to go. So if we clear this and then we do an LS dash L A, we have our poetry lock file all ready to go. So in this case, from now, we can actually remove that VM directory and the requirements dot text. We don't need them anymore. And so now we have this little bit, there is one thing you need to do to make sure everything is finished setting up and that is modify the Pulumi dot yaml file. So let's go modify that right now, all you have to do here is just remove lines five and six and that's it. You can certainly collapse down lines three and four to just say runtime Python, I find it's just as easy just to leave the name and then you're done. So that's all you have to do. And so from here, if you want to run any p um Pulumi commands with poetry, you can do poetry. Run Pulumi preview. And in this case, there's really nothing to preview other than creating a stack. So that's all you find poetry. Run Pulumi up. Same thing as normal. Everything works perfectly. So in this case, that is how you set up poetry and Pulumi all set and ready to go for those of you who are like me and love to use that. So let's hop back over here if there's anything else that you would love to learn about poetry about Pulumi things like that on this channel for modern infrastructure, feel free to drop a line down in the comments. Otherwise, I hope for those of you here in the US. You have a lovely holiday week and for those of you not in the U. Si, hope you have a lovely week as well. If you have a topic, you would love to have us cover here on Pulumi TV. All you have to do is go to github dot com slash Pulumi slash Pulumi TV. Thanks so much.

---
