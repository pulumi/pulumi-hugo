---
preview_image:
hero:
  image: /icons/containers.svg
  title: "Publishing to the Pulumi Registry | ContribEx"
title: "Publishing to the Pulumi Registry | ContribEx"
meta_desc: |
    In this session, guided by Guinevere Saenger, we'll walk through all the steps required to publish your own Pulumi package to the Pulumi Registry.
url_slug: publishing-the-pulumi-registry-contribex
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "Publishing to the Pulumi Registry | ContribEx"
  description: |
    In this session, guided by Guinevere Saenger, we'll walk through all the steps required to publish your own Pulumi package to the Pulumi Registry.
  sortable_date: 2022-08-20T05:42:44Z
  youtube_url: https://www.youtube.com/embed/HGFyootZxpE
transcript: |
    Hello and welcome back to TV. Today. You're, you're probably off right today. We have a contributor experience then that means that we are going to show you how you become more involved with the Pulumi ecosystem and community. And specifically today, we're going to take a look at how you publish your plum packages to the Pulumi Registry. Now, if you don't know what a pluming package is or the pluming registry is, don't worry, we'll cover all the basics at the start of the session. Now, joining me today to guide me through publishing to the registry is my friend and colleague here. Hi, how are you? Hey, I'm doing well. Thanks so much for having me. Um, good morning, good evening and good night to everybody around the world. Um Yeah, so I'm Guanare. I go by Guare or Gwen. I'm on the uh providers team here at Pulumi and we actually own a lot of the Pulumi providers that you see on the Pulumi Registry. And um we've got a few tools that we are continually working on improving by the way. So this is really just a pin in our, you know, timeline towards uh improving the Pulumi Registry in general. Um But yeah, let's walk through publishing a provider today um, as it is done uh at the current moment. Awesome. Thank you. Um I just want to see how awesome I have a special guest today. This is and she sometimes helps Pulumi um with, uh, with um provider publishing and bought alerts and things so important. Work. Very important work. Yep. Yep. She's a working cat. All right. Well, before we start today, I just want to say how awesome you are. And I really want to say that I've appreciated all of the improvements you've been making to the community and ecosystem for documentation and code and automation. So your work has been very noticed by me and I appreciate that a lot. Not that I want to make a blush at the start of our stream, but I just always nice to share good news, right. Uh Yeah, I know I was gonna say, don't worry on Zoom. I have like the redness suppression filter going on, but I don't know about the software. So we'll see. All right. OK. So let's start with some basic. I have a screen share here. We've got this wonderful piece of documentation from Pulumi dot com, which is a Docs user guide blue packages offered and publishing. This is easily discoverable by our search box where you type offering um publishing. So if you ever need to find this page, that's how you get to it also, if you're watching and you have questions as we go, please feel free to leave them in the comment section. And Gwen and I will do our best to answer them as we go. No, I'll cover some basic vocabulary um for anyone who's not familiar. So what is a PMI package? Well, a pli package is uh a provider or support a resource or any of the above, like a native provider. Um These can all be published or a registry and we just call them packages today. I believe we're taking um one from the which is our community driven and focused home for packages. I'm just going to keep the Pulumi packages until it doesn't sound funny anymore. Um So yeah, we'll take the Doppler provider, which is a bridge terraform provider published via and we're going to get that into the registry today. The Pulumi registry is where you can come and discover and find all of these wonderful packages. So if you go to Pulumi dot com slash registry, you will be greeted by this page here. Uh You can also click on the top right where it says registry. I should have known that, but nice. There we go. I mean, I don't know, I just always, I think I'm too keyboard driven. I'm just always going to do like control L and go straight to that URL bar and just start typing. But yeah, of course, we, we do have this link and do nice. Ok. Pay more attention to the website, Dave. So on the register page, um you can just scroll down us and you'll see all of the ones that we have currently published. Um They're a mix of native providers, bridge providers and component resources. Pretty much everything that you need is here and we have some nice filtering at the top. So if you want to be able to filter by native provider or component, you can as well as use case driven stuff and you have the ability to search if you. So everything is on the preliminary registry and we want to focus on how do we get something new today today? Now, I've never done this before. So we're just going to work through this with Gwen's support and advice and get Doppler to the registry. Venice Elephants. Um Yeah, so I was, I don't think so. Uh I wanted to explain something that I don't think is obvious to non Polian. Um And you mentioned uh providers versus native providers. Um And basically the there is not really a functional difference. The only difference between them is how they are written. Um And so you already answered my first question, which is, and it's not really necessary for publishing either, but he said that Doppler is a Terraform based Pulumi provider. So what we do for um uh providers that have a Terraform incarnation is we wrap them with a conversion uh code that lives in the Pulumi Terraform Bridge and uh basically transform them into um being compatible with the Pulumi engine so that you can use them as a Pulumi provider. A Pulumi native provider. Basically, same idea. It talks to the Pulumi engine, but uh we implement all that code by hand. Um That's, that's it. That's really the difference. Publishing is exactly the same way. It's really just how the sausage is made underneath inside the casing. And so, uh yeah, great contact, sir. Thank you for elaborating on that. So where are we going to start from here today? I'm assuming we don't need to create a repository to select the template and name a repository like that we already have that. Do you want, do you want to send me a link and see what that looks like it's on the, do it is just kind of go there? I'll send you the link also if that helps. There we go. So we got the page here and uh yeah, all the bits and pieces that we need hopefully and tagged or released 25 days ago. So, not too old. Nice. All right. So we have name your repository. So we do wanna do a couple of checks. Um, name your repository, name, your package. It should start with Pulumi Dash. You did that good job. Um Then we are naming, so what is the name of the underlying Terraform provider? Uh This Doppler sweet. So you did that correct as well if you're naming a bridge provider um right there under name your repository. Very cool. And then um you authored the package already. You have a release. We did that. Now, write documentation. Did you write documentation? Let's see. Sorry, I just kind of choked on my tea earlier and I haven't recovered since this is what I get for doing the British thing. Um So we are looking for an index MD folder in MD file. All right. Awesome. Let me find for you a package that has that so that we can see. We it doesn't say which. Ok. Note to glen improve the docs um index MD similar. OK. So let me skip ahead for a second. Um The place where we keep all the code for the registry for community packages is uh github uh a github repo called Pulumi registry. Um It's actually just registry under the Pulumi here. Let me slash registry. There we are. Exactly. And there's a folder called community packages. Mhm. It does. It has an empty read me. That's fun. Cool. Um And you will see some community packages under in package list, Jason and this is in fact where we will add our package and what you need is basically you need a name and a schema file, presumably you have a schema file. I'm pretty sure I've seen that. So that's what we're gonna do. But let's not get ahead of ourselves. I do want to make sure that you actually have the necessary documentation so that those will get published to the registry. That is one of the things that we check for when we open pull requests. So if I open preliminary check, that should have that piece of documentation, we have Docs folder and then is it that's underscore index dot MD. Is that correct? You are looking for a Docs folder and you're looking for index MD which should have Yes. Um Let me see, let me check you. Um Yeah, so basically this has a little bit of the boiler plate that the registry expects. So um honestly, I would just kind of copy paste that we can certainly improve this um to have a little bit more boiler plate there. Um I think there might actually be boiler plate for this already if you use one of our provider, boiler plate repos, but this provider might have been, you know, forked or, or, or or boiler plated too soon for that to make it into the changes. Um Well, let me update the things here. So we've got the title to Stop and then the description, I mean, I could just be really crappy, right? And just search for check. Yeah. Oh, I totally do this all the time. You know, I used to feel I used to feel bad about like copying things and then I realized that, you know, remember that old proverb where it's like imitation is like the, the most genuine form of, uh, compliment or something. How does it go? The most sensitive form? Yeah, it's flattery. I can't remember the phrase but I know what you mean. Um All right. Let me update a little bit of code here then. So this is not going to be Pulumi Doppler. Um, so I'm just gonna, yeah, we don't need the Java Javascript chooser. We can just do the typescript chooser, right? Because you're community package, you know, we obviously hope that you have support for all the languages. Um But as far as I know, we don't really have an official um requirement that third party packages must come in all the languages that Pulumi supports. Um And I'll take a couple of links, Doppler, Doppler. Alright. Uh And if I just jump back to my provider repository for a moment, uh which is here. Um I do have, may I ask you a quick, may I interrupt you quickly? Um I I might move you to my biggest screen because I have like a tiny little window on my. Um How do I can, I can see if you like click on my face, you can say show controls and it will allow you to fill it. Hm Show all controls. Ok. Oh, there we are. Ok. Thank goodness. Uh I feel so much better now. All right, thanks. All right. So I'm just going to say improve example. Is that ok? If we publish it with the improve and I uh I clean this up on Monday. Absolutely. Yeah, I give you my first honor. Cool. So we have, we have an example. Um we have basically we have that index MD which is what the registry gen will the registry gen tool under the cover will look for to make sure that you have a nice landing page. The other file you need is the installation instructions. Careful. We live in the docks folder as well. Ok. Let me copy that and this file is called installation dash configuration dot MD. Yes, exactly. And it does not need an underscore I believe. Cool. I'll do my wonderful search and replace again. I'll make a kiss that this time. Ok? Uh Yeah, sorry. Yeah, again, just kind of follow the we use, we basically we use Hugo modules. So a lot of those, that's where the titles and descriptions and layout headers are needed. Uh scroll up, scroll up, scroll up. Yes. Yeah, that's good. Yeah. And then basically this is where you would put stuff like you need to actually have a Doppler account or I actually don't know what Doppler does or is, um, I, I keep thinking of an ambulance driving by really fast. So, um, but, but that's ok. You, I, I don't, I don't, I think, um I don't think that's important here. Um But, but yeah, so this is why you say, like you need to get like five API tokens and set a multifactor off and also prove that you are definitely not a criminal in any country in Asia in order to use this provider. Ok. Um That's why you put that stuff. Ok. II I have enough here for the no G stuff to kind of work and there is a requirement on an API token, but I will promise to be a good citizen and we will not do this right now because I think it detracts away from what we we're showing and I will definitely have this updated by Monday. So we have our NX MD and our installation configuration dot MD. Uh And I loved your very science, the Doppler joke as well about the ambulance. I just, well, I just, it's like one of those things where you, like know about it as a kid because you're in the car with your parents and an ambulance drives by and you're like, ok, that was really weird that the pitch just plummet and then you're like, and you don't say anything, right? Because like, how would you even describe it? And you're like, nah, that must just be me and then you grow up and your physics teacher explains, that's the Doppler effect. And you're like, oh, it was real the whole time. I thought I was just weird. OK. Anyway, um so yeah, cool. So you have those, let's go back to the dock um on. So we did overview installation and configuration. Now we need to make sure you have package metadata. Um So we want to have so package metadata lives in your schema. Yep, I have here. So awesome. Let's let's go through the checklist. We want to display name, Doppler. Awesome uh description, a short description. Fabulous publisher, your personal name or company name as Yes, Pulumi verse. Awesome. Um Keywords we want category cloud. Awesome. Is that category list arbitrary? Is it constrained in some way? You know, that's, that's an excellent question. I think it's one of, I think that's constrained. Um I think these are really for search for search term surfacing. I honestly don't know how we use those. Um I wanna go with utility from this list. I think that's a little bit better than for what this does. Um Yeah, I mean, and just kind of brings like a cool uh This is kind of a cool place to mention that Pulumi providers and packages work on not just cloud resources. We have like a super useful github provider that I have used to do stuff with. Um And I think I would put it in the utility category as well. Um or maybe infrastructure make, make your best choice, make your best choice. So kind replace kind with one of native component and don't set a kind if you're bridging a Terraform provider. Uh I don't think I have. Yeah, but I did notice that we have um the config variables here. So this is actually useful for filling that documentation better. So I know I actually know what the different options are. So that's exactly the config is where you'd want to put like a, you know, these are the things that you can set and your config for um the way that the provider authenticates. And um and honestly, what I do sometimes um i it's I, you know, uh Terraform did a lot of this work already for us when we are bridging a Terraform provider. So go to their setup page and see, you know, see any got and just kind of, you know, that, that will help you figure that out too. Um Awesome. We have, then there's one thing that is not actually, oh logo URL, that's the one that's the fun one. Do you have a logo URL in your schema? No, we have, we have also published them without logo URL S. Um Because basically because I'm a student in code review, but all that does is like you, um you know, you put a, you have, you know, you have like the little, the little, yeah, exactly. The little Doppler logo and you place that in a discoverable place and no think I think in the Czech schema and we just grabbed that straight from the schema. So, yeah, I just grabbed it from their website. It's got an SPG URL that SPG is good. So I'm gonna assume. Yeah, that sounds, that sounds right. By the way, I wanted to note, we are manually editing the schema right now. And normally for, especially for British providers, we do not do that, but the metadata we can manually edit like we just did. Ok. And the meta data is the exception here, basically. Ok. Well, the, the fact that I've added the logo URL, if I rerun the schema gen provider stuff, it is just gonna leave it untouched for me. I hope so. It should, it should. Ok. I'm I'm happy with that. I, I think you're right. Um So, I mean, that's why it's called metadata, right? Um Awesome. Neat. So um api docs are automatic, automatically generated from the schema dot Jason. Um So we already have that um how to guides. Uh You can see that check le actually does have a folder with how to guides as well since we're, you know, copying check. But yeah, I think we're ready for the fun bit which is um publish your package to all the registries that so basically here is where we are um publishing the SDKS. So you generate the SDKS. Um And then let's go down plug and download URL. We already covered that. Yes, plug and download URL. Yes. Well, publishing of the packages and the plug in URL is all handled by automation. So sweet then. That's, that's great. I did not know that cool. And so now we're ready to publish the documentation. So we're going to the P register repository on github. And what you're gonna do is you're gonna fork in clone as a community where as a comedic package, you had a fucking club and literally all you need to do is add two things. OK? I have a fork, I have a remote and you, we need a branch, right? So sure. OK. Add Doppler. OK, sweet. So uh go to community packages, package list dot json. And really all you need to do is follow the instructions. Um add the Rios lug. Mhm Bear and, and the schema file, which is where the registry gent tool will look um make sure that matches the root of your directory. You can put your schema file wherever you like. This looks good. That looks correct. That's, that's Yep. And then you are going to open up a request. That's literally, it's literally all we need to do here. All right, let's add community packages it and the Doppler provider. I am pushed to my fork and then I think open up here. Yeah. Well, I thought I had the registry open but I don't. Ok, let me register. I like it when things are just nice and well documented and easy to walk through. Yes. Let me just make sure, you know. Yeah. II I think I need to, I think having like a nice example like we cheat it with chili in the stream would be, do you think it might make sense to link to that from the docks? I, I kind of don't want to throw, check under the bus too much here. I mean, not under the bus. I don't want to put pressure on them. Um, but, um, but it's always nice to look at previous prior work. So, um, well, maybe we could like, like one of the Pulumi verse ones since we have a community focus there and the community can help maintain it. And we're not, we don't need to kind of, but I'm sure they check the team. I've spoken to them before. They're very nice people. I'm sure they help us. But we do have, we do have providers um and I think we can use them as an example as well. Sweet. So I'm gonna just check out the registry pr s at the provider. So I believe what I need to do here is um check the, I run the tests. Actually, I'm not entirely certain. Um API, so let's, let's see. Um on the documentation API dot Sway package will be automatically generated at the time of building the registry site. That's the note. Um So you don't need to do anything. Um But yeah, so basically, now it's up to me we'll review your pull request since we already authored it together. Basically, I know you put an index MD in there and I know you uh talked to us about how you are going to use the delta provider to install and configure it. Um And then we are going to trigger the automation and I think that's literally just a slash command. Um Although I really wish we had details here. Um What did I do? Let me check out a previous pull request. I'm clearly super prepared here. Um Well, I'm just going in the background and commit and push my Doppler documentation, so I haven't done this in there. Uh Closed Bush. Ok. So the other really cool thing is that once you have added a package uh manually like this, we have bot automation um to check for version upgrades on your provider and we literally automatically open a pull request whenever we just, we detect uh a new version. So yeah, I, I ultimately ideally once you've done this, but let me give me, give me a few minutes, you should probably tell a joke or something. Um While I figure out what the exact uh one, I think it's run acceptance test. Let me actually just try that. Um All right. Let's let me play that. That's not it. Let's pull up an old pr and see if we can see something in there. There's a lot of stuff going on. Exactly. That's why I like a check like provider. Interesting. Darn. Mhm. Yeah. Ok. I might have to ask, I forget. Um So it looks like stuff were just merged without check. That's, yeah, but we, we did a bunch of improvements on it and I'm just a little bit. Ok. I think I'm missing something. Um, I wonder if I can do an inverted author, Jack. No. All right. Well, um, let's see. Let's go ahead and just go and check that, not publish that. Um, oh, can I? Ok. Right. Come, I'm just looking for a more recent package publisher. I found 1 17 days ago and it looks like it was merged. OK. Well, it sounds like we don't have any automation at this point. I think what happens is the automation runs when we, when we publish. So anyway, let's just, I am just going to go ahead and approve this and say thank you. And then that's right. So we will have to emerge um As I I think because you work here also. Um you could squash and merge your own pr but that's not what that's going to look like for uh community members who don't work at Pulumi. Um I know that you have your community member hat on right now. Um But um thank you so much. I'm just typing you a nice little message. Welcome to the registry. Uh Not Taco, I feel like the emoji at github are just like somebody really wanted to implement emoji for github and then um sort of lost Steam Mid project. And so you get like a very limited amount. Um Yeah, it's very different aliases like from what you're used to a slack and others. Weird. But yeah, there we go. Approve build and deploy preview, right. So what we, so the one, so what you're seeing there is uh that, that was skipped. Um that is a site preview um that we build for internal um for, for, for internals. I don't even know if you would see that if you weren't uh an org member. So I don't know. Anyway, so let's squash and merch. I will merge this for you and the thing that will happen now. Yeah. Is we wait. So I think so, this is the part, this is, this is the part um where we don't have continuous deploy for our docks site. We have fairly frequent deploy for our dock site but not continuous. Um So basically if you go back to the registry, um, Doppler will not show up yet because there is a Cron job on our Docs gen site, Pulumi Hugo that runs on the regular, but usually it runs like at least once an hour. So on the top of the hour, you should see the provider show up. Well, yeah, we don't obviously need to sit and wait for it. But yeah, I, I'm aware of the current jobs, I think. Yeah, they do run very regularly but not regularly for us to see this on a live stream, but maybe pop this back over to our, our big face one. So just to summarize and kind of recapture everything that we do. So if someone wants to take their package and they want to make it available via the registry, they first have to add two bits of documentation. So you have a Docs directory with the index dot MD and an installation guide. Now those are there so that when people have your package on the registry, we get interested in useful details. Of course, um There's also the option to add the logo URL and that goes straight into the scheme of JSON and you have to have some conformance with the way that you name your package, which was all covered in the documentation as well. So as long as people go to our do search for authoring, get to that page and just follow those steps like, you know, that did not take us particularly long, like 2025 minutes to run through each of those steps. Um And you just open up a request or a register repository and some kind helper like Gwent or someone else on the team will see that and we'll do our best to get that nice and quickly and your package will be available to, to other people. Now, there are benefits to having it in the registry, right? I believe that plug in acquisition and discovery is a lot easier um with the plug-in download your being available there. So you're going to get that a bit easier without having to pass the server arguments to the resource install command. And it's also very discoverable. People use the registry and to find new providers. So if you want to be able to get a bit more eyes on your provider is a really great way to do it as well. Uh And of course, the documentation is available. So lots of perks and minimum process. And um if you upgrade to a new version, Pulumi automation will detect that and let us know it's not fully automated because we um we do gate on pull request approval, but there will be an automated pull request opened against the registry. So, you know, um for us, it's good enough to see that you cut a new release and we will most likely just approve and merge. Yeah. So, I mean, people can just invest their time working on their providers and then we'll make sure that the registry is up to date as fast as we can. The one thing, the one thing that you might run into um is when you do not see your uh installation and your uh landing page index page uh properly displayed. It's usually because our liter failed. Um I uh probably probably we should um add a little bit of um troubleshooting. Um But we have some really strict linting for our internal packages and we haven't quite figured out how to disable that yet for community packages. Um So sometimes we will fail your landing page based on white space. And then every once in a while, like you'll see mostly me show up on your community ref phone. Be like, hi. I just worked in colo your provider and opened APR to remove some white space. Please. Please merge. But I really hope that my fake copy and paste documentation does not cause you to have to go and fix them white space for the registry. If it does, I'd feel sorry. So um so that's, that's, that's one of, that's one of the fairly common got um that we again, like I said, it's uh this is a pin in the road to um registry publishing. And um we are always working on improving and refining this process. And um we are also working and improving our community interactions, engagement, approachability and responsiveness um where a fairly small team considering that we cover a lot of area. So, you know, that's a stay open source prayer. Please be kind to your maintainers. Please have patience. Please treat each other with excellence. But if you haven't heard back for like a week or so, please please poke us again politely, you know, because it's probably just that it fell off the to do list. Um And we don't hit you. We just got distracted. All right. Well, let's leave that there. Hopefully, if you're watching this, not live, you will see that Doppler is in a registry. Otherwise I will be frantically behind the scenes fixing my weight space. However, I'm sure that's not going to be the case, Glen. Thank. Thank you so much for joining me and guiding us through this today. It was an absolute pleasure. I hope you have a wonderful weekend and I hope you can do something to get together soon. Yeah, I mean, I'm out next week so um reach out to my team if you see problems with this. Um, uh, yeah, so I'm out for a few days backpacking. Um, looking forward to it, but I hope you have a good weekend as well because yours is starting like right now right now, right now, right now. Enjoy dinner. All right, I'll speak to you soon. Enjoy your back, back and bye all. Thank you for watching. Bye bye.

---
