---
preview_image:
hero:
  image: /icons/containers.svg
  title: "Introduction to Pulumi: Modern Infrastructure as Code"
title: "Introduction to Pulumi: Modern Infrastructure as Code"
meta_desc: |
    Learn about Pulumi by following this demo on creating and deploying infrastructure with TypeScript, specifically an AWS S3-based static site along ...
url_slug: introduction-pulumi-modern-infrastructure-as-code
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "Introduction to Pulumi: Modern Infrastructure as Code"
  description: |
    Learn about Pulumi by following this demo on creating and deploying infrastructure with TypeScript, specifically an AWS S3-based static site along with all of the related infrastructure.  Pulumi is free, open source, supports familiar languages, and many clouds, including AWS, Azure, and GCP, and platforms like Kubernetes.  Learn more: https://pulumip.us/Get-Started
  sortable_date: 2019-09-04T20:04:04Z
  youtube_url: https://www.youtube.com/embed/QfJTJs24-JM
transcript: |
    Today, we'll use Pulumi an open source modern infrastructures code tool to provision cloud infrastructure. Pulumi supports lots of clouds and different cloud architectures. But today, we'll be creating an aws S3 website. I've already downloaded and installed the cli it's available in package managers like brew and I've created a new empty directory. We'll run the Pulumi new command which scaffolds a new project. Notice that there are many clouds in many languages, but we will select aws typescript. We'll select the default project name, we'll enter a description, create a new stack. A stack is an instance of our project. We can have lots of them and we'll put this in the US west to region. Pulumi will then go ahead and install all of our dependencies and we're up and running and ready to go. So let's take a look at the index dot TS file, which is where our infrastructure is defined. It starts with a set of packages and notice we're creating an S3 bucket object. That's how infrastructure is declared in Pulumi by allocating regular objects in a programming language. We also export the bucket name at the end. Now let's run Pulumi up this command evaluates our program and determines what resources need to be created, updated or deleted. It shows us a preview before making those changes and we can click details to see all the properties on our resources. If we select yes, Pulumi will proceed with making the changes by going out to our AWS account. And actually allocating the new bucket are updates finished. In this example, I've elected to use the free Pulumi Sas to store my state. Although additional options are available, let's list the contents of our S3 bucket. We expect that it's empty since we haven't yet put anything in it. Now, let's edit our program to upload an index dot html file to our bucket. We'll create a dub dub dub folder. We'll create an index dot html inside of it and let's create some simple markup. Now, we need to go back to our index dot TS and we'll actually populate the bucket with this new file plumbing makes this really easy because we have full access to all of the programming language features. In this case, we'll use the standard no jsfs package. We'll loop over the directory contents of the www folder. And then for each entry, we'll create a new S3 bucket object. We'll give it the name of the directory. We'll make sure it gets added to the right bucket. We will tell it to take the file contents from a relative file on disk. Uh And from there all we need to do is go back and run, pulling me up. This will show us the delta compared to what we had previously, which is just creating a new object. We can look at the details again, but let's proceed and actually upload this to the bucket. This will happen very quickly. Just took a couple of seconds. And now if we list the contents of the bucket again, we'll see the index dot html file has been added, but we're not done yet. We need to update our bucket to actually serve the contents as a website. We'll go back to our program and we'll actually add new properties to our bucket and Pulumi will be able to detect the differences. We'll say that the index document is the index dot html file that we just uploaded. And we also need to set the AC L on the objects to be public read so that they can be accessible over the internet. Finally, we'll also export the URL that AWS assigns to the bucket to make it easier to browse to the website. Now, we'll go back and we'll run Pulumi up again. And this time, we'll see a much more interesting output. We'll see that Pulumi detects that there are two diffs. The website has been added to the bucket and the AC L has been changed on the object. Indeed, by clicking details, we see the actual value changes. Let's click. Yes, to actually perform the deployment, it'll happen very quickly and we'll see that the URL is printed. All of our changes are now live so we can curl the resulting S3 Euro and see the contents of our index dot html file. Great. Everything seems to be up and running now. Finally, there's one last step. We're gonna destroy all of the resources we just created so that nothing is left behind. We run the Pulumi destroy command. It looks a lot like up, but in this case, it's actually just deleting everything that's been created. Finally, we can remove the stack itself which deletes all history and all traces that have ever existed. Although this example use typescript aws and deployed manually from the command line. Pulumi supports many different languages, many cloud environments and CS CD integrations to make automated delivery easier. I hope you've enjoyed seeing how easy it is to create, deploy and manage modern cloud infrastructure using Pulumi. Pulumi is open source and free to use. Give it a try today.

---
