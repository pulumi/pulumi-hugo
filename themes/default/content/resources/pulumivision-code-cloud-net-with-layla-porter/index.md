---
preview_image:
hero:
  image: /icons/containers.svg
  title: "PulumiVision - Code the Cloud with .NET (with Layla Porter)"
title: "PulumiVision - Code the Cloud with .NET (with Layla..."
meta_desc: |
    Matt Stratton is joined by Layla Porter (VMWare) to explore cloud engineering using .NET!
url_slug: pulumivision-code-cloud-net-with-layla-porter
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "PulumiVision - Code the Cloud with .NET (with Layla Porter)"
  description: |
    Matt Stratton is joined by Layla Porter (VMWare) to explore cloud engineering using .NET!
  sortable_date: 2021-12-10T09:01:32Z
  youtube_url: https://www.youtube.com/embed/wQNCC1HyNUQ
transcript: |
    Go, welcome to this week's in instantiation, whatever we call it, episode, episode, that's probably a good word of Pulumi vision. And that's what I've decided. We're calling this. It's, I, we've been going back and forth, uh, trying to figure out what I wanted to call this, this weekly show. I was calling it Pulumi Pu TV for a while. Um, we did some polls and I ignored all of them and I've started to, in some of my like graphics, just put the word Pulumi vision. So that just sort of defaulted to that. So that's what we're gonna be for a while. Um, my, uh, joining me today is, uh, layla from, uh VM Ware and dot net, uh, expert of which I am not either of those things dot net or an expert. Uh, and we're gonna just sort of have a little bit of fun. We're gonna do some, some, uh Pulumi with dot net, which, uh, if you've been tuning into my stream, that'll be new. We've been usually using typescript and a lot of the stuff I've been doing. We've been doing Python. We haven't done a lot with dot net. So I'm excited to do that. Uh We have uh hey, Napalm 6 84 joining us. Thank you. And again, if you're coming in on Twitch, please subscribe. We really want to push uh people to, to follow us. Sorry, not subscribe, but Layla was explaining the difference to me earlier. I I'd even know better. Uh follow us, uh follow us on Twitch because uh the more followers we have on Twitch, the easier it is for me to justify that we just do this on Twitch instead of all over the place. That's a different thing. We'll have a stream talk, we'll have a meta stream uh another time. Um So cool. So, Leila, you wanna uh before we kind of jump into this, maybe kind of tell people a little bit about your background, obviously, I know, you know, dot net really well. But Infra Code Azure cloud, like where's, where's your jam? Yeah, I um I'm very familiar with Azure. Um I've been using Azure mm since about 2014. Um So I've seen a lot of changes through that. The portal changing and every time the portal changes, I'm like, no, I can't find anything against. I've, I've been through lots of iterations of that. Um I've tried other cloud providers and I'm, I'm, I get very close to table flipping so I always just end up going back to Azure. I, I guess it's the familiarity of what, you know, and it's hard to go. Well, why am I going to bang my head against the wall doing this thing when I can just do it with the tool? I know. And it's hard to push yourself out of that comfort zone and get past that. So, yeah, I mean, I'm a self taught developer. Um Well, I've had lots of people teach me but I have no formal education, I guess. And not even a boot camp for like so many people. There, there were boot camps around when I decided to switch career and become a developer. Um And uh yeah, so kind of scrounge knowledge of everybody and anybody. Mattie, you, you're muted, you, you, you're quiet. I am OK. I'm, I'm super pro with this. I have so much as we've learned. I was, I was just uh I was just going to send a little tweet to kind of get people in here but we'll get, we'll get going. Uh You could do that. I, I just, I took a screenshot to do that. Go on, go on. I'll do a little uh I'll do a chair party. I'm well known for my chair parties. Well, I think I'm well known for my chair parties. You send a tweet and I'll do the chair party. Um I'm useless at Dev ops as we. Um I've, I, I talked to lots of people and anything I've done with C I CD is uh red and angry. Um And I accuse people of saying. Um What count going down Napalm. Yeah, thanks. No. Palm What with my chef? I'm not singing yet. That's the thing that makes people really leave the, the stream and their ears bleed. We did. Yeah, we had the, on Tuesday there was no singing even though it was my birthday. So that was fine. We had a lot of like in chat celebrating. Yes, there was, there was cake. It wasn't. We have to wait a whole year. Yeah. Yeah. And I'm, I'm I want to do in person cake. I I love cake. Um and it's always cake for me. There's always this cake versus pie thing and it, it pie to me is like steak kidney. That, that's the thing, I guess when you, what do you think of when you think of pie? Oh, I think of, I actually, I think of one very specific pie, which is strawberry rhubarb pie. And that's my traditional birthday dessert much. So the chagrin of my younger sisters when I was growing up is that they wanted there to be cake and I wanted strawberry rhubarb pie and actually I especially appreciate this year for my birthday. My, my kids, they know the story and they had had their mom and had, you know, my ex, they said we want to get daddy a celebrity rhubarb pie. And so she went to Baker Square and got one for them to bring over and we had that together and it was as was tradition. Um Awesome. Yeah. So one of the things I think actually this uh it's, it's 22. So like my Azure background is right around the same time. It was about uh 2013. 2014 is the first time I really started getting, getting involved in Azure and have again uh lots of, lots of things have shifted and uh sort of the re restructuring uh stuff. But one of the things that's pretty cool, I think with Pulumi in this particular case where we're talking, right? Like uh is in, in a scenario where you're like, OK, I know my programming language really well, this is where I feel comfortable, right? And maybe, I don't know, like, you know, Leila, you've used Azure for a long time, but maybe you don't, right? Maybe Azure is maybe the, maybe that particular cloud is new to you and you're like, OK, so I need to learn that so I can get my stuff going. It's kind of cool to only have to learn one thing at least, right? And so what we're gonna do here is kind of go through our, our getting started uh with Azure using, using Pulumi and if this is is new and you know, folks watching might know and, and, or know or already not, but Leila, if we think about this uh Infra Code stuff like this been around for a long time, we've gone through lots of different types of iterations. There's things like Terraform, we had answerable or I shouldn't say had answerable still exist. You know, there's chef, there's puppet CF and all this stuff and one of the things we can do with Pulumi, um So when we write a Pulumi program, which is the thing that's gonna say, this is the infrastructure I want, like I alluded to, we can write that in a real programming language. That could be uh hey, you know, Bash is a programming language. I'll tell you, you know, I'm not gonna argue. That's, that's, that's true. So it's, it's OK. Uh Pulumi doesn't have bash as a language run time, but you can write it in javascript. You could do Python go or, or again at dot net, you know, specifically right now C# but you could do it in another dot other framework languages too. And that gives us a couple of things that I think are interesting. Uh One is again, much easier, like we're gonna be able to sit here and get this, get this thing going and you're like, you already know dot net, you know how to write a plumy program. But also it's a real programming language that has things like conditionals and loops, what an idea, right? We can component things, right? We can bring in other packages, you know, so like I can, and we're not gonna get into that level of stuff, but like maybe I have a way that we want to get a container registry working within our Azure implementation. And I know what the good practice is of that. But Leila just wants to use the couple parts of that, that, that matter to her. So I can create a package, I can create an implementation and that's where that goes. But we're gonna start with some, some kind of straightforward stuff and see how this is uh see where we'll go. So a couple of things we've already done just for the interest of time, uh and Layla will, we'll pop your screen up in just a second. So Layla already has Pulumi installed on her machine. Um It's pretty easy to install. It's just not that exciting to watch. And uh but other than that, we haven't really done anything. We've also just made sure that uh Layla's machine is, is already connected to her Azure subscription so that, you know, we don't have to show that. Hey, block an D. Um He said that, yes, exactly. We want to avoid that. So we're sitting, we're gonna kind of start uh here. And one of the first things we need to do is um we're gonna create a new project for and we're gonna call it, you know. So we, we uh basically a Pulumi project is just a folder with a bunch of stuff in it. So first we have to create the folder and you can call this whatever you want. Uh This is gonna be like with the solution, is this gonna happen? This is exactly the name of your project is gonna be called this by default. So if you call it quick start or what not. Yes, I think I've seen that Azure Mask uh extension. Uh Every time I do something with uh the Microsoft folks on like DeVos lab or whatever, they're always like, make sure you do this thing. Uh We didn't want you to, we, we, we, we skipped that so that Layla doesn't do herself. And also just because it's not that interesting to watch as her log in through the portal, right? Um OK. So I would say, yeah, make a, make a directory called Quick start or, or if you want, if you want to go in a Pulumi. Yeah, that's um yeah, you see my uh and, and, and feel nibble and blocking. HD all know that I'm the queen of Docs. Um So that's why they're all laughing at me because they know that I'm very good at um at Doxing myself. Um So uh yeah, I even have a command which is exclamation docs which um brings me back out of my screen to my full thing in my virtual studio and has sirens going off and everything. So, um yeah, I have in my, yeah, my O BS set up for when I was doing my life coding at the beginning of my Pulumi journey. I had the, had gotten that from someone else. I'm trying to, I'm misremembering and I'll remember later whose streaming setup I saw. But yeah, to have like a scene that I had right in my stream deck to just push, that just was like boom, secret, like block everything. Um OK. So we've got our new directory. OK. Uh Go ahead and create. Are you in that directory now? OK. So, uh we can very easily um write all this stuff by hand, but we have a generator that will get us the beginnings of what we need. So we're gonna use the Pulumi the Pulumi command. So you're gonna type in Pulumi new and we're gonna, in this case now, before you go any further, you could do just this, but that's gonna give you a very, it doesn't know what language doesn't know any stuff. There's several different, more than several different generators we could use to this point. Uh In this case, we're gonna use the Azure C# generator, which is gonna be set up for Azure with C# as a runtime. So do Azure dash C#, you could do just C# and that would be a generic one. This is gonna load the uh packages that we need for Azure as well and go ahead and uh hit that. Oh, a great question in the chat. Go ahead and hit enter and we'll sort of watch what's happening. OK? So you're gonna need to log into our back end now. Um, this is probably a great place to, uh, well, yeah, we'll do that real quick, uh, while, while you're going to that. Um, but, um, I'm gonna talk real quick about the back end, so Pulumi has to have a place to store your state because Pulumi is gonna run. Um, this is, oh, you're setting up, your Pulumi can see I was gonna show this but that's ok. It's not that. Yeah. Oh, I guess we can, we can, we can just one second. Let me, um, I did in this one. let me close all these. This is from earlier. Yes. Ok. Once I'm in. Ok. And I'll authorize that. I think it's just gonna kick you back. So what, what happened, the important part of what was just happening there is you can, when you sign up for your Pulumi account, you can use user name password, you can use lots of different oats, get lab github, et cetera, et cetera. And what was just happening there was, um, logging. Then the reason you need that and you don't actually need to use the Pulumi Service, but we need some place to store the state, which is saying, so when you run a Pulumi program, so it knows what state are your resources in. So it, no, it does have to do anything. One of the back ends you can use is our service, which is easy because then you don't have to manage it. You can do self managed backends if you want to put it in blob storage and S3, anything like that, that's out of, out of our scope here. Um So, ok. Uh You should probably not have to go, go back to your uh command line for a second. Ok. So, um ok, so if you wanted to, uh if you hit enter here, this should, yeah, that'll give you, bro. And then if you can go back and log in the way you had logged in which I think is fine. Um Yeah, like that. And then we go here. Well, but i it, it's, it's passing off to your Yeah, it go back to the command line. It's gonna, oh Because it's a browser, I can do it in that browser that just didn't normally. Yeah. The other thing you could do is you could, you could go generate, create a token and paste it in. Um You're gonna probably have to control C here. Um Because now you're now that all right, come on, you could just run it again. It didn't do anything yet. So let's go, I'll sign in. Come on, there we go. All right, I'll do it from here. We can come in here. Um And then I'm hiding, I'm hiding on the screen right now and I'm fucking HD, I'm gonna answer your question about API support in just a second because that's a really good one. And I have really good news. Uh Cool. Ok. Well, while, while you're so, uh, so the question, uh came up like it says, does Pulumi automatically gain new API support as it's added to Azure? Uh So it does, it, it does require new versions, but it's whatever the latest version. So our, when we have a couple of different kinds of providers in Pulumi, when you talk about a native provider, the native providers which exist for Azure and Cobert and now for aws. Uh and also there's a GCP preview one. The Azure one is really mature. Um It's built from the API spec nightly. So as soon as there's a new feature in the API within 24 hours that's built and it's in Pulumi in the, in, in a, in, in the resource. Ok. So you were able to go ahead, ok? Go back to your command line and OK. So now it's gonna default to name the project after the directory we're in, which is totally fine. You can just hit enter here if you want to give it a description. Usually this is just for your own reference, so you just can enter through this. And then finally, it's gonna talk about needing a stack. Now, a stack is an instance of your Pulumi program and oftentimes they relate to maybe different environments. So the program may have different configurations you have to have one to get started. The, the default first stack is DEV, so you can just hit, enter through this be like production could be pro um, ok. And then, because it's, as your native, you have to pick a which location, whichever one you want is fine, West US is probably fine for our purposes. I mean, you, you know, or UK South. Yep. And so now you'll see it's going ahead and it's, um, determining all the dependencies that are gonna be needed to get in that um as your native provider that just happened. And so if you take a look, we'll see that it installed those plugins and installed those providers, all the depths are there. So if we want to open this up now, and hey, Adam, Old Red Hat pal, uh if you wanna open this up in uh visual studio or we want to take a look at the files, but we're gonna, yeah, pull it into vs individual studio in just a second here, but we can see all the things that it created. So it's already built it because you've got the bin and the, and I see we got my stack. All right, let's open this. Um What um what version of dot net did this build it in? Uh Well, it's, uh, I believe that would be uh we, we require the 3.1 SDK or later. So it's gonna, I guess gonna be whatever your default would be from the dot net command. I'm gonna have to just like, change my screen here. Oh my God. I've just ruined it all. 000. Yeah. To stretch it. Yeah. Ok. Right. I'm gonna just, right, I'll sort this out. It's just full screening. There we go. Ok. Um, already, so I didn't need to say that's ok. There's another update. Yeah. Ok. Fine. Ok. So if you have a look at these files that it generated, um, so there's Pulumi dot Yaml is, which I know, I know uh we're using profanity by using the Y word here. But if we take a look at what Pulumi dot Yaml contains, that's really just sort of defining our project, which is not a whole lot of interesting things in it, but those are those, those bits, but it tells us the run time, the name we had given it. Now, if you look at the DEV dot Yaml, that's the specific configuration for this stack. So we can um and in this case, the only config value that we, that exists is just what's the Azure the location for that. So you can see like if we had a different stack, maybe we would want that to provision into a different location. There's lots of more configuration that we might want to use. But that's that, that DEV dot The stack, Yamal is sort of what's uh the configuration that might be specific to the stack. And then program dot CS is the, you know, if we take a look at that. It's a very simple entry point um which isn't doing a whole lot of super exciting things yet. And, but then if we look at my stack, that's our actual uh Pulumi program that's defining our resources and what um Pulumi is done by because we use that scaffolding. It's like these are some normal things you might want to start with and you'll find as you use Pulumi, you're, you're less likely to use the, the Azure. What? Because you're like, OK, I'm gonna want to do something specific. The language generator part, the language uh template um is, is, is more where that will, will, will come in a bit. Now, if we take a look at how this is working. So a couple of things. So if you kind of look at the top, we'll see the um all the, the, the resources, all the providers, all the, the things that Pulumi is gonna use. And because they're there, we're gonna get all this stuff for free in our ID E as well because it's gonna know what to do with Pulumi things. And it's creating this my stack which is subclass off of a stack. It's an instance of things. And the first thing we wanna do is we need because it's a, we need a resource group where things are gonna happen. And so all we do there is we just say it's a, it's a new resource group you can call it whatever you want. Now, one thing that's gonna happen, you'll see Pulumi has by default uh an auto naming feature. So we're saying name that resource group, Pulumi quick start. But you will see that when we create it, it's gonna in Azure, that resource group is gonna actually be called Pulumi quick start dash. And there's an identifier and the reason for that is to avoid collisions. So, you know, so if you already have it now, you can override that because there are times when you say no, I want it to be called exactly that. But most of the time this stuff is fairly, um you know, immutable, right? It's sort of like it's not that it's throw away, but you don't actually need to know its name. And part of why that's also powerful is because what we created here was an object. We can refer to its name programmatically. We don't actually have to know its name, you know, you might want to look at it. Yeah. Yeah, exactly. And so the next thing we're gonna do is, you know, we want, we're gonna just do, we need a storage account where we're gonna put this stuff and the same thing, it's um uh we're, we're, we're able to sit down there and say it's a new storage account and pretty straightforward pieces and parts. This is um where, where, where these pieces are gonna go. And then finally, we need to have the primary key of that storage account. Um Because that's uh that's giving us that primary, it's, it's exporting it now. Why it's gonna export? That is we with Pulumi, we have this nature of inputs and outputs. OK? So stack input, stack output. So um an output is something that either I can get, you'll be able to get from the command line, which we'll, we'll see later, but you can also pass it around. So you might have a plumy program that in this case, maybe it generates this storage account and you might even have another program that says I need to go to that stack that's associated and find out which one I'm gonna use. So that's um this is basically gonna create an Azure resource group and the storage account and then it's gonna export the storage accounts, primary key, which is what that uh that um that one is under the, under the output and excuse me. Um And then, so if we wanted to do this here, we're gonna just go ahead and we'll, we'll, we'll add some, some uh some new code in a minute, but just to sort of see what's gonna happen. So I do have a question then with a quick look at this, it's gone to dot net um called 3.1. Um So in this, was there a way that we could have specified that this is gonna be dot net six. For example, is there like a way to specify the, the version uh when we create a new application, that's a really good question. Um I don't have the answer but I feel like I need to get it because um the version though, where the, where that came from was from the template. Remember when you did that quick start or did the, the, you know Azure C#, that's where that all got defined. So um so maybe that you don't have an updated template as yet. Uh uh Yeah, it could be. And I think that's, that's a, that's a really good uh I'm gonna take a quick look and see there's a um where the OK. So the as a OK, this is why it says as a version one point, Pulumi is Pulumi runs on dot net core 3.1. So that's the, the, the, the default to that and, and I think that's what's supported but if you have obvious. 00 yeah, and Napalm says, yep, there is a o that's not what I meant to do. Um That, that, no, no, no, that was me, that was me in where I'm trying to like um the re stream thing doesn't let me click on things. I wanted to go to that pull request, but it looks like there is APR um or an issue rather related to, to the dot net versions. Um Let's take a look here because now I'm curious, one of the things I was, was telling Laila earlier before we started, is that maybe my little New Year's resolution or thing I'm gonna start working on in the New Year is I was gonna say leveling up my C# but I'm, it's not even level, it's been a decade, I would say at this point, probably since I've written C# not in anger but just at much at all. So, uh but we, we definitely could use some people on my specific team on our DEV team who can, can, can speak of this. OK there. Yeah. So dot net looks like the issue for uh yeah, this is, this is our tracking issue for uh dot net six and it's just uh um in progress. So we're getting there. That's the short answer. Cool. All right. So if you go now back to your command line, um this is why like I know, I know you all use like real I DS and I use visual studio code. So I just pop a terminal right inside it. But you know, whatever you wanna do to be able to see because this is where we're gonna run it. So if you run the command Pulumi space up, so this is going to evaluate the program, it's gonna figure out what does it need to do and if you were to, we don't need to do. But if, if you were to click on that link that would show you everything we're seeing in the console, you would see that on the website. So if you know that's where you can see. So if you kind of scroll up just a second, we'll say it's saying, oh, right underneath there it's telling us what it's gonna need to do. So it's saying, ok, I need to and, and I think you're missing a little bit on the right one second. I can see Matt a little bit then like that. Yeah. Oh OK. Well, it's OK. You can, you should see the plan. OK? The, the, the, the, the point of what's happening here is it's saying what does it have to do? It says it has to create three resources. It has to create the stack because we've never actually created the stack itself inside your, your uh your account. Uh It needs to create that resource group and it needs to create the storage account. And if you were to look at your choices from your uh prompt, you can either say yes or no. But also if you were to go to details and pick details, hit, enter, this is going to actually show you exactly what it's gonna do, right? So all the things. So if you wanted to dig in and say like, OK, it's gonna create all this stuff. So if this is of interest to you for all the nitty gritty of behind the scenes of what's gonna happen. Uh And in this case, we're just gonna go ahead and say yes, let's go ahead and fire this up, right. It's gonna go ahead and now it's actually running the Pulumi program. The other thing that, that, that preview does, which you can also get if you do Pulumi Pre what nobody does because you can just plu me up and say no is, that's also where it generally is gonna find out if you've got some problems in your code because it has to actually evaluate the program. Um The um And then uh so once that is, where are we at, I think there's OK. Oh Create Perfect. OK. So when you can see that it outputted something called primary storage key, now, what's interesting there, you see the value it says is secret. So uh when outputs are, so if you go back to your program, yeah. And we look at where we exported the um do you see where it says output on line 27? It says output create secret. Yes. So since it made that a secret, that's saying when it's stored in your Pulumi setup, it's never gonna reveal that. And it's also gonna be, it's also encrypted at rest, but mostly you'll never see it in updates and logs and things like that. And you have to be, you have to explicitly say show secret um when, when we go ahead and, and, and run them. Uh So if you were to sit there and say if we want to see what that key is. Um, which we probably don't want to actually show because everyone else is gonna see it. But you would uh um, I'm just gonna have you not, not type, enter when you run this in your command line. Ok. I'll tell you what to type, but I can already tell you, um, I've just open up my group and I can already see it that it's there, it's done it. I mean, that's so cool. I mean, the up the upshot is we're, we're gonna do, we're gonna blow this away like in, within the next 20 minutes. So even if somebody like does grab your store that, that, that uh primary key on the, on the essay on the storage account, it's not gonna do them very good. But um we're gonna do something similar with this uh in, in our next, next set up. So we've got a storage account now, we're gonna do a thing that nobody does. But hey, we're gonna feel like real web developers and we're gonna host a static website sitting in blob store in, in, in that storage account. We're gonna throw an HTML file in there because that's the thing we all do all the time. Um You know, actually you do, it's just not the way exactly that we're gonna do it. So, oh um So what we want to do there is uh why did that just do? OK. Got it. OK. So back in your project director, the directory that we're in uh back, you're gonna create a new file just to create an index dot html just in the root, just in the root. It's just a file. We're just gonna, we're just gonna snap it as a file. Um Again, not necessarily a pattern. We would do all the time, but it's, it's uncommon of course that you would be storing your html content with your Pulumi program. But this is getting us where we want to get to. OK? Cool. And you know, html up, give it a title like hello Pulumi, you know, AROS static sites. So there's actually some interesting stuff we could do with that. I've written some example code not in C# yet, but then some of the, some of the other stuff I've done other languages with, with Aros static sites and stuff with uh Pulumi. It's kind of fun. Well, I guess what we could do is with uh Blazer. Uh It's like the latest um static site thing. Uh So I wonder if we can do that. That could be fun. Got it. OK. So cool. So we have our HTML. We're just gonna use this file later is what's gonna basically happen. But now we need to uh do a couple things on our um back in our main Pulumi program in our snack. So right after we create the storage account. So let's see. Where are we doing that? That's uh Yep. So that, so right after that one, you can do it before we export the primary key. We're gonna, we need to enable static website support. So you're gonna do VR and the, the way that, and this is, this will be a good test for all of our type of head stuff. So the same way that if you kind of see and we'll call it say static website, you know, sort of the same way that storage account is above and it's gonna be a new storage account, static website, but which you can see, we can't see as well. But right, and then um in the parameters, the first one is gonna be the string, which is this, its name, call it static website, you know, again, it's gonna, it's just sort of the resource name and now, then you're gonna do a comma and you're gonna do a new static website. AGS. Yep. And then that's inside Curley's. And then the first one is account name and it should start typing ahead. Yep. Yep. You got account name and that's gonna be storage account dot name. No, no, no, no. Yeah. It's where we're getting the name from the storage account. Yeah. And then, and then the next one is the resource group name and I can get. Yeah. Yep. Yep. Looks like you're uh yep. It was already, I thought it was even prompting you for, I was seeing Yep dot Name and then, yep. And then the last one is gonna be the index document. Uh OK. And then that's a string that's just index dot html. So these are just when you are enabling static website support on uh on a uh storage account in Azure, these are the things you'd have to tell it, you'd have to say like this is where this goes and that they're telling it what index that it should be. Default dot HTM default dot A sp if you're old school like me, uh um, although I guess index dot html is probably the most old, oldest of schools. Um ok. And then let's see in your curly do that. Ok. So this, now we want to use all these resources and we're gonna add a local file asset and we're gonna upload that index on HTML into the storage container. So after, so now you're gonna sit and you're gonna do, um you're gonna create another, do another uh VR and you're gonna do index on underscore html is just what we're gonna call this uh this underscore underscore Yeah. Or I'm sorry. Capital Yes. Camel case it, we're doing this right. Well, or maybe index Yeah. Index. Yeah, you see, you've blown me out like I, I didn't even know what it's just referencing. It's, it's just gonna be the file object that we're doing here. It's, you know, what did you want to call this call it? Index html. Like is one word. It's a, it's a, it's a, it's a goofy. Uh, yeah. And this is a new blob is what we're doing here. So you'll do a new blob and then the parameters on this. Yeah, print it. And then the first one is index is in, is a string of just index dot html because it's the file that we're talking about and it's, that's its name and then you're gonna do a common, you're gonna do a uh new Blob Ags just like we had the Yep. Yep. And then these are, yep, you can see the first one there. It's already prompting you. Probably, it's a resource group. Yep. So we'll go ahead and give it the. Yeah, and the next one is the account name. So that's again that this is gonna be very similar to the one we did before storage account name. Is that right? Yes, it is. Yeah, that's the storage account, the name of the storage account. And then we're gonna do now the next one is container name and this is that static website thing we created before. So this is gonna be static website dot container name. If you get that, that, that thing, we create it. Yep. And then dot container name. Yep. And then the source. So you'll do source equals and it's a new file asset and uh in, oh no, that's just, it's just gonna be in, it's just 11 argument and it's just uh in RENZ thering index dot html. And then the final thing is we just have to set the content type. So there's, there's one more parameter, one more argument rather which is content type that in there. Yep. Yep. Yep. Or no, not in the file asset after the file asset. It's still part of the blob bar. It's a block. One of the BLOB bar is content type and that's just a string, text slash html. Now, the last thing we want to do is just the same way we were able to export that primary key. We might wanna kick out the uh that storage container that we created. It's URL so we can get to it really easy, right. So where you saw, you know, if so after they export the primary key, you will say um you're gonna do with this and it's gonna be static end point. Uh You can do it. Yep. Yep. Right. Yep. Right. There is good. Um Is that in the same? Yep. Yep. That's perfect. Yep. So just do this uh do static endpoint. Yep. Yeah, you're gonna, you're creating a new, yeah, it's, yeah. So it's just, yeah, it's, it's not gonna type ahead that, all right. OK. But it looks just like the, the, the same casing that primary storage key is just do that with static endpoint. And then that is a, you'll do equals that's a storage account. Uh Well, no, uh lower case store. It's the it's the resource. It's the, it's, it's a yes um dot Primary end points should come up for you dot Apply. And then in per this is uh so an apply is basically sort of almost like a transform. So it's gonna be inside those pres you're gonna do primary endpoints, lower case P and then yeah, capital E at primary end points. OK? And then do like a hash rocket arrow guys. Uh And then this is a ruby coming out of me, right? Primary end points dot web. And that should be inside that par. It should have the semicolon at the end of all of that, right? What does it not like about static? Um Yeah, this is what I was gonna ask you. So this oh there's one more. Oh Because we have to do something with it. OK? Go down where the outputs where the output is. Uh You see how there's that public output, you need to do the exact same thing as that. Um But um yeah, but then put the, yeah, I'm with you. Yeah, I I was kind of like, I don't like this and we probably don't need this. I believe you. That's old school. Um Because that's why I was like when you were saying this and I was like looking for intelligence. I'm like, but where is he getting this from? That's fair. That's fair. Uh I'm looking at some of the comments now here. Yeah. Um Yeah, I feel is a troll and needs to get back onto that bridge. It's engagement. Yes, people. So now we've got our, so we got that saved off, right. And let's go back to our uh terminal. You wanna do that again? Yeah. Do Pulumi up again. So what's gonna happen here? Yeah, you already refactoring. That's what, hey, I'm, I'm taking notes here. I may have to go do some uh some cleanup in our getting started here. Uh Mika is gonna be real mad. Um So we'll see a couple of things changed. So if we scroll up just a little bit, uh see what we can see. Yeah, it's saying that's a new thing. There's a new output and it said there are two things to create. Um and three things were unchanged. So it, it doesn't, it says, you know, again, it didn't have to change our storage account. It didn't have to change our resource group, but it's like, ok, there's a new thing. So it's gonna do those two new things. So if we go ahead and uh say sure, knock it out, let's, let's run that thing. Let's see what's up and then is this gonna be a, if you, you could go to that? Like if you wanted to, that'll show you the same thing we're seeing here. OK? That's for this. Yeah, that's right. And I'll show you how we're gonna get that output in just one second. Well, you could have stolen it from there but there's a, there's an even slicker way to do it because what if you needed to get it later? And you were not in the, the, the preview anymore? Right? And I don't know what I'd do. I'd have, well, I'm gonna show you what we're doing. Um Cool. OK. So now, so go ahead and just type in curl space and then just do uh dollars. We're gonna interpolation, do uh shell interpolation. So just do. Yeah. And then in Pulumi stack or no. Yeah. And Pulumi space stack space output and then space and then capital static end point. You know the name of that, the name of that output, right? Static end point. Yeah. Oh No, no, no, no. I know, I know, I know, I know. I know I didn't wanna do that. I was um it was in my clipboard and because I thought I had the other one I have it. Let me go. OK. And go ahead and fire that up. All right. Go. Why? Why does that? I don't need to know about the weather right now. 00 OK. Well, this is a curl problem but, but it would have worked. You could also do what you could do I explorer. Is that the command line for browser? What's the, what's the latest command line for the browser? Just open? Just open? Can you do that? I don't know, say open what just open. Oh, well, no, no, no, no. I mean, oh, that's not. So this is, again, we're talking old school. What did I say? If I wanted to launch the browser on a windows machine from, from the command line, it's I explore but I'm betting there's a command and there's gotta be, well, this I explore work. What happens if you? No, not explore. Just explore. Oh, start. Ok. I, I trust you, Adam. So do start. OK? But don't no, no command c or control C. Jeez, what am I on? OK. Do but now we know the right thing. Yeah, perfect. Uh Oh That'll open an explorer window. What'll open like a an edge window? There's gotta be a way to do it. I don't know. Try edge does is edge work in your path. What, what does that do? Uh Nope. Yeah, I know I explore was explore. That was my point. Adam is that it was old school. Um Jeez, this is so for the record, if you're, if you're, if you're playing along at home, this is not by any means, any kind of uh like os Holy War. But just so you know, a fun fact because I didn't actually know this till a while ago. If you type in, in a Mac and I said if you type in open space and then the URL it will open safari. So try start and then, but don't just type, don't, don't just hit it now go to that string interpolation again with the dollar. Yeah. Yeah. Let's pass the URL to start. Oh, wait. Ok. Yeah. Yeah. Replace curl with start. Let's see if Adam is right. What's up? Come on then is that, should I press play? Why did we create a U I? Yeah, let's see what happens. Um oh Hey, there we go. So that worked later. My hero. So that kind of got us uh where, where we were gonna go there and then if we wanted to, if you want to go back to your code a little bit, we can see if there's a couple if there's anything we wanted to. Um So actually this is fine. Go back to your index dot html document and uh just change something in here like yeah, I could say hello, just Yeah, hello Twitch, right? Perfect. Save that and then go do a plu me up again and I could have typed it quicker than I could press it. But you know, it's like you're invested in the up scroll, right? Yeah. Um says it loves that. The red hat guy is the one who remembers the Microsoft commands from 20 years ago. Um So you can see it had to replace. So it's saying it's seeing there's a difference in that index file which you could uh you could say no if you want, we don't actually have to run it. We can, it's up to you if you wanna run it? I'm in it, I'm here. Um And then once it's done, I'm gonna do this, this stuff. We know what to do. Yeah. A Bob, whatever that is. Hey, hey, how do I, how do I open a browser inside of openshift? We're gonna, what's the command line for that one? So see what that does. Yeah. So there's a couple of different things. Um Because maybe you've already got stuff in r maybe you have terraform, you've written, we have a whole bunch of different converters that will, you know, again, like any other automated thing like that, you're gonna, it's not gonna do everything for you just, we just lost Adam. Um It's not gonna, it's not gonna get you everywhere but it's a great start, you know, kind of we'll get there. You're gonna definitely have to do a little tweaking to make sure that it's exactly what you're expecting. Um Yeah, I'd be interested to see what army Pulumi does with compiled Bicep. I need to do some, some playing with, with Bicep myself as the config uh that I should say config management nerd. We don't talk about config management anymore. We just uh um oh, it's funny. So stable says uh ask me about, about calm apartments and mts. So the reason that message is funny to me is because the last time as I told the, like when I were on her stream, the last time I worked with dot net was when I was running tech ops for apartments dot com. And MTs is, are my initials. So that, that all just jumped out at my, like all the wrong reasons. Those, those letters together. Um, cool. So, what we can do, I guess the, the last way we'd sort of wrap this up is, uh, we might want to get rid of the things that we have created and that's, uh, pretty, pretty easy to do that. And all you need to do is just type in Pulumi destroy. Oh OK. I was like, is it gonna be Pulumi down? No, no. It says Pulumi destroy. Uh I, I have been known to in my um in my uh in my shell to alias Pulumi YOLO to uh to Pulumi up dash Y which is where it won't do the preview. So it's gonna tell you what it's gonna get rid of and which is everything that's what we would expect. All right, and I'm gonna, now what it's not gonna do, notice it's not gonna get rid of your stack, which is just Pulumi understanding of that. There is such a thing that exists and that's by design because you might want to destroy the cloud resources, but bring them back up again right within your, a new instance of them. You have to be pretty clear that you want to get rid of the stack, which is the next thing that we're gonna do. Uh clean up after ourselves. Now, I'm just thinking if I click on the Pulumi quick start, it says resource not found. So that in my Yes, yes, it went, it got rid of all those things. Um But like it says the resources were deleted, but the history and configuration are still maintained. So if you go back to your browser, if we go back to Pulumi, uh if you, I think you just go to app dot Pulumi dot com, we'll get us what we want to see. I just want to kind of show people what, where the destroying the storage account is a little bit scary. Well, as long as you don't really care what's in it, it's totally fine. Um So go to projects. Yeah. OK. So there is that Pulumi project um that we had created. So if you were to click on the DEV on that stack and look at it, you can see the last thing that happened was destroyed. But if you go to activity, oh, activity. Yeah, we can see all those times you did a Pulumi run what happened and if you were to dig into it, you can see a lot of details we can see. OK, this is what it did, this is what it changed. You have all this history um of the things that, that, that it, that it was able to do and a lot of this is just gonna look like what we were seeing in the land line. Um, but this is then giving us that ability if we're working on a team or we just sort of want to see the thing that we, that we had done before. Um, and that said just from a, uh, yeah, 11 petabyte bucket when working with Aws, that would be the discussion if you lose it. Yes, that is why you don't Pulumi YOLO like I do. You always let it tell you what it's gonna do before you do it because then that's on, that's on you. We try not to give you a, a uh, a foot gun but you know, sometimes I'm sorry, you're gonna, you know, you do. So if we go back to our command line now, yeah. And then the last thing you're gonna wanna do is probably just get rid of the stack because you don't need it anymore in this particular case. So if you just do Pulumi space stack, space RM for remove, right? We're just gonna remove the stack. Oh, no, no, no, no, no, no. Just, just RM. Yeah. Oh no, no, no. There you go. Yeah, I'm great. It's great to type what everyone's watching, right? And it's like, are you sure, are you sure we are sure. So type in Dev and it's gone. So it's like we did nothing. So if I now come into here and I refresh this shit, it will be like, oh I don't actually Yeah, you're going to 404 now because the blue is like, you just rewrote history there. Yeah, I love all your rainbows and, and sort of like your clouds of rain. I love it. I love it. Sorry, I just had to tell you that it's very attractive to me. Rain clouds. I'm into it, I'm into it. It's good. Uh, so, yeah, so that kind of got us through where that went And this was, this was um clearly kind of a very simple implementation, right? Yours, we created a bucket but we can do and pretty much any resource you could think of that you might want to do in Azure. So if you're creating containers, container, you know, app plans, uh I've done workshops where we're doing things like that, you can get V MS going all sorts of different places. Um One of the things that's neat, maybe we'll, maybe it'd be fun to do something in the future is we also have something called the automation API. So you sat there and you were running at the command line, but you can actually put all the Pulumi stuff into your, into your application and it will run Pulumi inside of there. So one of the interesting places that we've seen people do that you might want to do is maybe you want to create a portal, right? Where people go in there, like I need to get a deployment going and I'm going through a web interface. And so like I've done AAA workshop before where we write like a Python Flask app, which is, you know, um but in that flash gap, you're doing a Cober Netti, use that app to go through this web portal to go and do a Cober Netti deployment. So that API thing is it's getting away from just running at a command line, but being able to embed it inside of your whole workflow and you can do, of course, all sorts of fun things with like github actions or where your bills go to that. So there's a lot of capability. Um Wanna take a quick. So I don't, I think we hit all the kind of questions that people had had. Um And all of the trolling got you. I brought my trolls with me, you know, just in case you didn't have any. Uh I, you know, I brought them with me. That's good. It's your entourage of trolls. I love you all my little trolls. Um So as we kind of wind up, are there any uh I know you, you, you did a stream, this is your second stream of the day. So there's not another stream today for you, right? Or did I get it? I hope not. There's day and because I haven't hit the monster today. Um You know, which is quite a rare thing for me. Um And uh you know, normally it's like monster, I'm like a walking advert for monster. I haven't had one today. I have had an awful lot of coffee and this one that I was brought, uh, just before we went live was a decaf. So, you know, it's ok. Um, but yeah, given the way you jumped when it was brought to you, it's probably good. It was decaf because, you know, you, my coffee came, like most people know that my coffee comes from that side and then it came from that side and, and whistled at me and I nearly fell off my rocking chair, you know, so it wasn't good. I, uh, I, I, not once they converted, I did have a couple of years when I had a pretty severe monster habit where I was buying it by the case and now I just buy Diet Coke by the case. There's three cases of Diet Coke sitting next to my desk right now. Well, I have, um, Pepsi Max. That's my thing. I buy that, um, in two little bottles in cases of eight and I stack them in my garage. Thank goodness for Costco. And I do buy cases of Monster Ultra. Uh, the white one and that was the same one. That's my favorite. I did get some monster mule. I have to get that from the supermarket and it's more expensive. I can't just buy it by the case from cost, but it's like, um, it's like a Moscow mule. So it's ginger beer and um lime without the vodka. Um And it's a, yeah. Yeah. So it, it's, but that one's really good as well and that one sugar free as us. I do like the monster meal and it comes in a black can with uh like rose gold lettering. So I'm like, I'm here for the look of it. I'm here for the taste of it. I'm here for the energy kick it gives me, you know, and I didn't have monster coffee feels navel. No, no, I just, this was a an espresso decaf so trying to wind down the full bed. Yeah, perfect. This is, this is perfect. Well, I think everybody who came and joined us on the stream today, go ahead and mash that like follow button, not the subscribe button. Unless you're watching it on youtube, then then you push all the buttons. Uh We'll be back. Uh Well, I will, Leila won't but we'll do another one. at the same time next week, I've got Dan Mayer from data dog is gonna be on and we're gonna be uh doing some uh Pulumi configuration of data dog uh with fun and we're gonna be doing that and go. So those of you who have tuned in the last couple of weeks and uh we're, we're upset that all I do is write typescript and wanted to see some Golay. We will be doing some go next week and we will see. Yeah. So tune in tune in next week. Uh, if, you know, if you don't already follow Leila on Twitter, you can follow me on Twitter at Matt Stratton and, uh, we will. So if you don't already follow me, follow you, that's true. Well, at least follow one of us. Yes. Yeah. Follow and just, just follow everybody. That's, that's just everybody should follow every, there's just, by the way, it's also inherently linguistically, that whole concept is just a really creepy choice of words. You know, I 1000 followers today that I'm following, like, I'm actually following 1000 people on Twitch or on, on Twitter. I'm like, like 1500 I sort of hover around there because that's manageable for me. Yeah. And I, I've used lists sometimes but I also, you know, it, it always just kind of, I don't, I don't have a strict place of it, you know. No, no. Um But yeah, and you're going to come on my stream, aren't you in the New Year? And I'm gonna brush you up on some dot net six skills munge it all together. I'm excited too. That's great. Um And because it's an absolute pleasure to stream with you, Matt. Thank you so good. Well, everybody have a great rest of your day, rest of your evening and we will see you on the internet.

---
