---
preview_image:
hero:
  image: /icons/containers.svg
  title: "Examining Serverless Templates for AWS, Google Cloud (GCP), and Azure | Modern Infrastructure"
title: "Examining Serverless Templates for AWS, Google Cloud (GCP..."
meta_desc: |
    Introducing Pulumi Serverless Templates for AWS, Google Cloud (GCP), and Azure! Stand up the building blocks of your application's infrastructure w...
url_slug: examining-serverless-templates-aws-google-cloud-gcp-azure-modern-infrastructure
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "Examining Serverless Templates for AWS, Google Cloud (GCP), and Azure | Modern Infrastructure"
  description: |
    Introducing Pulumi Serverless Templates for AWS, Google Cloud (GCP), and Azure! Stand up the building blocks of your application's infrastructure with a single command in the CLI. No hand-written code is required. Try them for yourself! ► Pulumi Templates: https://www.pulumi.com/templates/ ► Serverless Templates: https://www.pulumi.com/templates/serverless-application/  Pulumi templates are the fastest way to deploy infrastructure to AWS, Azure, and Google Cloud. After deploying, you can easily modify the infrastructure by updating the code in TypeScript, Python, Go, Java, .NET/C#, or YAML.  ✅ Get Started with Pulumi: https://pulumip.us/Get-Started ✅ Create a Pulumi account. It's free: https://pulumip.us/Sign-Up-OpenSource  00:00 Introduction 01:55 Template Review 04:15 AWS Lambda with Python 05:52 Google Cloud Functions with Go 08:07 Azure Functions with TypeScript 10:26 Conclusion
  sortable_date: 2022-10-20T15:00:32Z
  youtube_url: https://www.youtube.com/embed/Ydj4PDrWgOQ
transcript: |
    Hello, everyone. Welcome to another modern infrastructure video. And today we're gonna be taking a closer look at some of the Pulumi architecture templates if you missed the last video and you don't know what an architecture template is. Architecture templates are new at Pulumi and they are the quick best way to deploy the basic infrastructure. You need to deploy a variety of different applications. We have them for serverless architectures, uh containers, cober netti static websites, and we're adding more and more as we move along. They exist in any language pluming supports and for any of the three major cloud providers that way instead of having to worry about handwriting all the infrastructure yourself and maybe gambling a little bit on some best practices, you don't have to worry about that anymore. You just focus on building your application. Now, these are designed to be extensible. So they will all deploy some form of little like Hello world application to kind of give you an idea of what things should look like from an organizational perspective. And also to give you a jumping off point to drop in your own code, whether it's an application that you're just now beginning to build or if you're moving something over from another provider today, we're gonna be looking at the server list templates for Aws, GCP and Azure. These do all exist in all the languages Pulumi support. So it doesn't matter if you're writing typescript or Go or Python or C# or if you're just rolling with YAML, uh it will work in any of these languages. But for the sake of brevity, we're going to look at one language per cloud provider. So for AWS, we'll be looking at Python for GCP, we'll be looking at Go and for Azure, we'll be looking at typescript. Let's get in there. So if you need a serverless application, whether that's aws, LAMBDA, Google cloud functions or Azure functions, one of these templates can give you the starting point you need in any language. Pulumi supports each of these templates deploys a serverless function for you with all of the necessary permissions to make it publicly accessible. And while each of them does deploy a small sample function just as a easy way to see that things are alive. Like I said earlier, these are designed to be extensible. We don't expect you to, you know, build an entire product around something that only returns to the current day time, right? We're giving you all the necessary tools to begin building your own application without having to fuss around standing out the infrastructure yourself. Generating the necessary starter code happens with a single cli command regardless of which cloud and language you choose. So all of them, aws, GCP and Azure are all gonna include instructions for doing so in typescript, Python go C# and YAML, and these will generate the necessary boiler plate in whichever language you choose, which is pretty cool. So let's poke around at some of these. So each of them includes some defaults that you can accept or modify uh such as the name of the project, the application directory, um where your website files are any of that. Um Some of these templates are gonna ask for more than others. Obviously, the template for, for instance, Cober Netti is going to have more configuration variables that you need to accept or set yourself than say standing up a static website template. But the serverless functions are kind of in the, in the middle of those two. For the purposes of this demonstration, I have accepted all of the defaults for these. So if you run Pulumi new um serverless Aws, Python, you're gonna get exactly what I show you here. And I've also run each of these commands for three different languages. So for aws, we're gonna look at Python for GCP, we're gonna look at Go and for Azure, we're going to look at typescript. So let's pop one of these open and see what you start with for a serverless function on aws, we are starting with a few things. Pulumi is providing you an I AM execution role to use for the LAMBDA function here and a rest API gateway to handle all of the routing requests for your html content and the Lambda function itself. Uh This one also is where you would want to set your website directory here. It's set to www, we've got this www directory up here that contains an index dot html. You can either drop your own code in there or replace the entire directly directory and point it at whatever you want. The same goes for this Lambda function that Pulumi has defined for you. We're defining the version of Python we want to use and also the directory that the function lives in. In this case, it is the function directory which we also hand over for you. Let's take a look at what's in there in there. It's just a small tiny little Python function that returns the status code of 200 the current date time in the iso format over here in our website directory. We just have a tiny little html page that returns the current date time, constantly updating handed over by our lambda function convenient. All right. Let's take a look at the next one over here in GCP land. We're gonna be looking at go. This one is behaving a little bit differently. If you run this template, it's going to ask you more questions we're asking it to, we're asking you to set the website URL and the application directory and what your index and error documents are called. Now, if you just accept all of the defaults as I did here, these are going to stand up everything that comes with the template. If you choose to define something else, you will need to, you know, put the code in the directories that you define here, but just accept the defaults and it'll all stand up for you. It's gonna look exactly externally, it's gonna look exactly like the one that was stood up on Aws. It's just a plain little website that returns the current day time, but here we're doing it with GCP. So in this case, we've got a couple of storage buckets being set up. We've got one that's being configured as a website up here. And we've got another for the serverless app. We're also uploading that serverless app to the storage bucket and we've got this synced folder that's managing the files for our website. All of this being tied together by our I am binding to allow public read as access to these buckets further on down. We've got a cloud function that's returning a small amount of data for us and an I AM member that can invoke that function and then the JSON configuration for the website. So anything that's required by the cloud provider or the particular service on a particular cloud provider we're handing over to you. So this will all stand up on its own. And all you had to do was run one command. Just like the other ones. We've got a small html site here. This one doing a little bit more asks what time it is and you can click on a button and it'll tell you cute. Also included an error message, cute. And in the app directory, we have the actual function for our date time. That's being called by the Google cloud function. All right. And last but not least we'll go look at what's happening in Azure. All right. This one was built in typescript. And again, this does also work in YAML or C# two, just three cloud providers. Three options like the GCP example. This one is going to ask you for some config settings. At first again, the site path, the application path, the index document and the error document, and we're going to create some resources. First up, we're going to create an actual resource group for the website. Pretty simple indication then a blob storage account and for that blob storage account, we're going to create a couple of containers. One is a storage container for the actual pages of the website. And the other one is a storage container for the serverless application structurally. This should look pretty familiar. It is very similar to the way the GCP template has to behave again, a synced folder to manage the actual website's files and uploading the actual serverless application to the storage container. We need to create a shared access signature to give the function application access to the code and create an app service plan for the function app and then the function app itself and a JSON configuration file for the website like all of the different templates. This is again exporting URL S so that you don't have to fish around in your cloud providers uh console to figure out where these things actually are. It just returns it for you so you can just copy and paste it into a browser and see what's up. But like all the other ones, this is still customizable. This is still something that we intend you to extend. But it does include this little website to get the time, the error page and the actual application written in typescript this time. So it's pretty, it's pretty neat. Um Run this and with only two cli commands, technically the one to stand this up and then running Pulumi up, you've got the core infrastructure, you need to get your serverless application online in the cloud without writing a single line of code yourself. So obviously, you're not actually gonna get anywhere with just a thing that returns the day time. So you do have to put your actual application in there, but you're ready to just drop it in if you want. Pulumi has already handled the boring part for you. Uh It's already complying with best practices from the beginning. So you only have to worry about building your own thing and not how to get the infrastructure online. Hope that helped try some of them out for yourself. Pulumi architecture templates exist also for kubernetes and containers with more being added all the time. So keep an eye out for more templates, more ways to make engineering for the cloud easier, check them out at Pulumi dot com slash templates.

---
