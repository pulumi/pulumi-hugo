---
preview_image:
hero:
  image: /icons/containers.svg
  title: "How to Create and Share a Pulumi Template | Modern Infrastructure"
title: "How to Create and Share a Pulumi Template | Modern..."
meta_desc: |
    Pulumi Architecture Templates are a great way to quickly get a new project up and running. They’ve already grown quite popular with our users, and ...
url_slug: how-create-share-pulumi-template-modern-infrastructure
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "How to Create and Share a Pulumi Template | Modern Infrastructure"
  description: |
    Pulumi Architecture Templates are a great way to quickly get a new project up and running. They’ve already grown quite popular with our users, and several have asked whether creating their own templates is possible. And the answer is YES! Creating a template is simple and powerful, and I hope this video encourages you to experiment with a few of your own. Step-by-step guide at https://www.pulumi.com/blog/how-to-create-and-share-a-pulumi-template/  Learn more about the templates: ► Pulumi Templates Directory: https://www.pulumi.com/templates/ ► Container Service Templates: https://www.pulumi.com/templates/container-service/ ► Serverless Templates: https://www.pulumi.com/templates/serverless-application/ ► Static Website Templates: https://www.pulumi.com/templates/static-website/ ► Virtual Machine Templates: https://www.pulumi.com/templates/virtual-machine/ ► Kubernetes Cluster Templates: https://www.pulumi.com/templates/kubernetes/ ► Kubernetes Application Templates: https://www.pulumi.com/templates/kubernetes-application/  ✅ Get Started with Pulumi: https://pulumip.us/Get-Started ✅ Create a Pulumi account. It's free: https://pulumip.us/Sign-Up-OpenSource  The project used to create the Template: ▪ Deploying a Data Warehouse with Pulumi and Amazon Redshift (part 1): https://youtu.be/2v_53eWGrqE ▪ Build an ETL pipeline with Amazon Redshift and AWS Glue (part 2): https://youtu.be/cbAzk9ovR9s  00:00 Introduction 00:11 What are the Pulumi Templates? 00:40 Let's turn the previous MI project into a template 00:52 Create a new project with the python code 01:47 The goal of the templates 02:10 Recap of the Redshift project did 03:02 Open Pulumi.yaml 03:15 The code that turns it into a template 05:11 Test-drive the template locally 07:19 Publish the template 07:51 Go to the Redshift console 08:45 Next step, make it shareable  10:51 Conclusion
  sortable_date: 2023-02-08T14:00:00Z
  youtube_url: https://www.youtube.com/embed/-jbZ_LZz31M
transcript: |
    Welcome to another episode of Modern Infrastructure Wednesday. My name is Aaron Cow. And today we're gonna learn how to create and share a pole template. So last year we released our first set of architectural templates uh which are configurable Pulumi projects designed to make it easy to bootstrap new stacks for common cloud architectures like static websites, containers, virtual machines and kubernetes. Uh These templates are a great way to get a new project up and running quickly and they've actually grown quite popular with a lot of our users. So in this video, we're gonna show you how to create your own template. In the last two episodes, we deployed a data warehouse on Amazon Redshift. So let's turn that into a template. So let's first create a new project and then copy in the code uh from last episode and proceed from there. So let's do hm that to put a new Aws Python. So create a new Python project. OK. Our project is now set up. The, the goal of templates is two full. Um One make it easy for other users to create deployable projects that address the infrastructure need. And two make it easy to customize and extend those projects after they've been created plots. Um open up main dot pie here we're gonna replace this code with code from last episode. So here we go. So if you remember um you know configuration settings S3 bucket VPC, private subnet, redshift uh Subnet group to IM roll uh the VPC end point. And then finally the single node redshift cluster and the VPC then exporting out the data bucket uh where you can put in um things that you want imported into Redshift. OK. So let's save that. At this point, you can run, pulling me up if you want to deploy it to make sure it works. But I'm gonna skip that step. So I'm gonna open up Pulumi Yaml because this is where we create our template. Um So I'm just gonna copy in some code that turns this section into a template. So here we go. Um There's a description uh we're gonna specify or there's a name, a description, then we're gonna spec specify to run time as Python. And then here in this section called template is where um all the magic happens uh for plume templates. Uh So there's a quick description on what this template is about. And then inside config um is where we uh throw in all the configurations that need to be set by the template. Uh So um you'll remember that we last episode, we set it on the command line. A bunch of different configurations using Pulumi config. So um here we have uh the region. Um So, so each configuration value there'll be a description um which when the user gets will get prompted, it will describe uh what that configuration value is. And then there's a default that the user could accept. Uh So there is um close identifier, the no type, the DB name, DB, user name and then uh database password. And um at the, when you hit Pulumi new and you're using this template, this is what will be presented to you and then your program here, uh We'll import all those configuration settings. So we're gonna hit save here. So that's all there is to it. Uh We now have a template that's complete and ready to be published. Uh But first we're gonna test it out locally. So we are gonna just create a new directory and I call it. Ok? And then we'll just pull me new on, ah, that actually there's one other thing we need to do. Uh We need to remove uh this folder um because we don't need that for um the template. Ok. Back here. So we're gonna do a bloomy new and then we're gonna point it at the directory that we had our template and we're gonna hit ploy new. OK. So project name. That's good. So it's a Python program to deploy Redshift data warehouse on a BS. Great. We're gonna use Dove. Uh We'll do it to us plus two, name of and red of dove and password. So, ok, password. We'll take admin and it's called this, let's call that, uh, take that as the node type. Ok, that's done. Let's do a quick pull me up to see if it works. Ok. That is now done. So let's actually uh, flip over to the direct shift console and take a look if it worked. I think it was this one that we just provisioned. And yep, that is correct. So now that it works, let's just uh uh remove this stack. OK? It's deleted. Now, we tested this template by pointing uh poly to the templates path on our local file system. But in order to share the template with others, we'll have to publish it to a file path or uh get URL that's accessible by the Pulumi L I. So let's publish it in a github repository. Uh Let's navigate back to our template here. OK? And all right. So let's just let's do a few. OK? We have a git repository with our template. So let's go back out, let's create a new directory. Oh, go in there and then we can pull any new are good Rio and see if that works. All right. Great. Hm Let me and the template deployed. So there you have it um creating and sharing a Pulumi template. Uh It's pretty simple. So, try it out. Uh Thanks again for joining Uh another episode of Modern Infrastructure Wednesday. My name is Aaron. Thanks. Bye.

---
