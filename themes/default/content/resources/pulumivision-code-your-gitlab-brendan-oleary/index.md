---
preview_image:
hero:
  image: /icons/containers.svg
  title: "PulumiVision - Code Your GitLab with Brendan O'Leary"
title: "PulumiVision - Code Your GitLab with Brendan O'Leary"
meta_desc: |
    Brendan O'Leary (Staff Developer Evangelist for GitLab) joins Matty Stratton to explore the different ways to configure GitLab using Pulumi!
url_slug: pulumivision-code-your-gitlab-brendan-oleary
featured: false
pre_recorded: true
pulumi_tv: false
unlisted: false
gated: false
type: webinars
external: false
no_getting_started: true
block_external_search_index: false
main:
  title: "PulumiVision - Code Your GitLab with Brendan O'Leary"
  description: |
    Brendan O'Leary (Staff Developer Evangelist for GitLab) joins Matty Stratton to explore the different ways to configure GitLab using Pulumi!
  sortable_date: 2021-12-03T08:53:05Z
  youtube_url: https://www.youtube.com/embed/LcNdceoSuoM
transcript: |
    OK, here we are. Uh it's time for Halloumi vision because that's what I'm calling it today. Uh We're gonna be doing code your git lab. I've got uh Brendan o'leary from git lab joining me today, Brendan. Hey, what's up? Hey, Manny, thanks so much for having me. It's great to see you. Um Let me, let me do this real quick here. I'm gonna say um So Brendan, have you ever used Pulumi before? I have never used Pulumi before in my life. Cool. Well, we're gonna have fun with that. You can uh find Brendan on Twitter at uh o'leary crew. Um That was what I was just frantically typing for the caption because we use high quality uh audio visual uh features here um in, in there. And then definitely uh let us know as we go on the chat. So what, what I thought we would do here is we're going to Brent. Brendan is a get get lab expert. I am less. So uh Brendan has never used Pulumi. I have noticed I didn't call myself an expert, but, you know, maybe I should be a little bit of an expert. So what we're gonna try to do here is walk Brendan through. So Brendan's gonna be doing the coding. I'm gonna be doing the coaching and we're gonna write, uh, a Pulumi program. We're gonna go and dig into the Docs on the, uh, the API Docs for the GIT lab provider for Pulumi. And we're gonna, you know, configure some git lab and, and see where we go and see how, how things happen. So the first thing just for reference, hey, and then, um, if you, uh, take a look. So on the Pulumi Registry, we have, uh, you know, the get lab provider. And so we're gonna kind of take a quick little look uh about some of the things that happened here. And then Brendan will walk you through getting yourself set up and ready to go for Pulumi. We did shortcut a couple of things. I already had Brendan install Pulumi on his machine just because that's not super interesting to watch. I don't know, maybe it is for you. I'm not here to judge. Um, cool. Right. And um, so, uh, but if we take it that one of the things that's nice. Now, with the Pulumi Registry, if you haven't had a chance to use it yet is it's kind of a place where all these providers exist in all of the uh component and the, all these examples and overview. So, in this case, what we're saying is the git lab provider is gonna let us provision any of the resources that GIT lab has and now of course, we're gonna have to have some credentials. So, a couple of things you'll need to have in place if you're just sort of following along and ever wanting to try this yourself. Right. Um, it's using GIT labs, SDK. So as usual, your credentials, so Brendan just like, kind of when you think about this, if I had done before, your creds, like Pulumi never knows your git lab creds. OK. So your Pulumi program is when it, where it's running is where those credentials exist. So the Pulumi service or anything like that, it has no idea about your creds. Um So you're, you're, you're good to go uh there. And so that being said, we need to give those tokens to Pulumi. So you can either do that, we can set an environment variable, we could actually, you can store them as encrypted secrets inside your Pulumi config that is in the stack. Um In this particular case, we're gonna go ahead and just use your environment variable. And as I said to Brendan earlier when we were talking, I'm like, Brendan is a developer advocate for GIT lab. I'm willing to bet that this environment variable already exists on his machine. So pretty straightforward GLAB like, well, it, it, it's your API man and uh we're just gonna kind of step through the docks and look the API docs and look for some stuff to do. So, uh, let's go ahead and get off of, we'll get off of my Docs and we'll flip over to, uh, looking at, uh, Brendan's, uh, set up here. And if, because I think if I put this back up that's gonna block, we might be able to see, we'll see if it gets annoying that I've got that, uh, that, that stuff down there. You just, you know, let me know who are watching um as we kind of go along. Ok. So uh one, OK, you've got your Pulumi version. That's cool. Now, what you're gonna need to do and, and Brenda you'll do, obviously, we won't be seeing this uh because you're not sharing your browser. Um But you do need to be set up for the plume service. Now you don't have. So the point of this is, you know, uh for Pulumi to work, it has to know your state, right? You're gonna say I want my git lab stuff to look a certain way. Well, like how does Pulumi know what your git lab looks like? Now, what's it done? And that, so that's state and there's lots of different ways you can store state. The easiest is to use the Pulumi service, which is free for individuals such as yourself and that's just what we're gonna use today. And so you're going to want to start with. So, um if you want to, you want, you wanna go ahead and share your brow, share a browser with it because maybe we'll just sort of go through this flow for you. You won't, you won't see any, any cred, we will hide creds and stuff and they won't come up, you'll be OK. But once you flip over and um we kind of go through the setup because you also can use G lab uh authentication to do Pulumi. So um let me get your browser up there. So go to uh app dot Pulumi dot com A PP like the Pulumi appetizer. I, I always like to think about it as appetizers. So when you want to go ahead and just, yeah, go ahead and click on, get, get lab, that's gonna set you up. Um Of course, let's see. Why would you not trust us with everything in the world? It's great. Um You can use also other, other providers, of course, but it just seemed like we should use a GLAB one. Ok? Cool. You're fundamentally set up at this point. Now, what you're gonna wanna do if you go ahead and re share back to your vs coach. So you have your terminal again so fast, ok? You're gonna want the command line, just do uh just do Pulumi space log in. Ok? And so if you just uh um so if you go back to the brows, OK, that should, yeah, that'll pop it up. This is happy we're not seeing Brendan's browser, but he went and logged in. The other thing is you can go and you can get the token, you can put it in there. So, now if you do Pulumi Space, who am I? That's just sort of a good way to sort of. Ok, cool. You're not me? That's good. Good start. Ok. Um, what directory are you in right now? Just so I made a little demo directory. Ok. You, you, you're somewhere that you don't mind us doing stuff. That's, yeah, it's an empty directory that I made for, you know, we're gonna be doing stuff. Ok. So, uh we kind of talked about this a little bit, you know, I'm short cutting a couple things we had a conversation about, but I kind of asked Brendan. I'm like, all right, you know, we, you can write Pulumi code in various languages, you know, typescript, go Python stuff and it's like your typescript. Your javascript sounds pretty cool. So we're gonna use that today. So what we need to do is we need to create this kind of the scaffolding of our Pulumi program and you're in the directory. So if you just type in Pulumi space, new space typescript, and then, um normally we could do a dash Y which will accept the prompts, but let's let's not do those. Um Oh, you OK, you need to be in it. Yeah, sorry. You need to create it. Create the directory for your, your, you know what? I don't do that. I, I, no, no, no, no, no, no, no, no. Ok. That was fine. You could do that. But we're gonna create, what do we, we're gonna call this program something. So we need to an MK. Sorry, I, I got, you got, you got so inside there you could just MK, you know, Pulumi Test or something like that, you know. Yep. And then change into that directory, change into your test directory. Now go ahead and run that Pulumi New. Yeah. OK. And where there's different uh flags. Yeah, there's all sorts of chaos and it's great. OK. So the project name is gonna default to um the directory name, which is totally fine. You can just accept that default. You give it a description if you want defaults or it's totally fine. Yep. This is just uh yeah, for your own reference of things. And so the stack, the default stack is gonna be DEV which is fine. So a stack, run, it is kind of a an instance of the plume program. So a lot of times it will map to like different environments and things like that. The default one is DEV, that's where we wanna start. It's totally fine. Cool. So what this is doing here is this is laying down, you could do this all by hand if you really felt like it. But no, so I actually um I'm going to, if you want to see me doing Pulumi with go lang two weeks from today, I'm doing something very similar with Dan Mayer from data dog where we're gonna be doing some data dog configuration. And I told Dan I'm gonna do it and go because I've been wanting to do a stream and go for myself. I just haven't been doing that. So mark your calendar, same time, two weeks from today. Um In one week from today. Speaking of other languages, we're gonna have uh Laila Porter from VM Ware who is a dot net guru and but has never used Pulumi before either and, and is new to info coding. And so we're gonna walk through, she's gonna, she gonna learn how to do some dot netting dot net, some dot net Pulumi and I'm gonna learn a little dot net from helping her. Um Can you uh I've been wanting to learn, go, in fact, I think a goal of mine in 2022 is to build a project and go. But yeah, so then I can come back and do go at that level of, you know, to the stream like, oh Brendan's also learning to go at the same time. Right. Right. Right. Um You wanna, you wanna pop that maybe make that fun, like command command uh plus a couple of times. OK? And then bring that, then go into uh for example, just go into that index dot ts for me. Um OK. That's, that's totally, I think that's totally fine size now. Ok. So we see we got a bunch of files in here. Um, your index file is your main Pulumi program. That's where we're gonna write our actual Pulumi code. Uh, couple other things, but you'll see it already installed the packages and stuff. But what it doesn't have, of course yet is it doesn't have our, um, the, um, what, what you would call it, uh, the, the, the git lab provider. So we're gonna actually, we might as well go ahead and do that. So you'll do that with an N PM install. Um, and that's just straight up. Um, just go ahead and do N PM install and just do at Pulumi slash GLAB, right? And that will go ahead and give us the package available to us, um, which you'll see in your package that Jason and we'll be good to go. So if we kind of think about things we might want to do with GLAB, right? Um I'm learning more about get life. So when we talked a little bit before, it sounded like, you know, like sort of the core of this is a project, right? We're gonna want to create a project but projects go in group, like what sort of the Sure. Yeah. So it depends. Yeah. So a lot of folks will self host their own, get lab server, right? Um And that's great. And then of course, there's a lot of like infrastructure um going into it, right? Like running the database and everything behind it. But then also, you know, wanting to like code, you know, as code GIT lab and the, and the set up, right? Um Or if you're using glab dot com, um you know, you might have like a, a group and then subgroups, right? Um So, um the like organizational container, right? Uh of git lab as a group and that may be, you know, like your like forget lab ourselves, right? Like glab dot com slash glab org is all of, is the group that has all of our stuff in it. Um Or if I was uh you know, some other company and I was running, you know, Brendon, get get dot Brendan dot com, right? Then, then it would be maybe the whole instance is mine. Um But when it comes to like things I wanna automate, it's like I've maybe I'm a large enterprise or I got a bunch of people using git lab and I want to automate, you know, give someone a group and give them, you know, the project they want and make sure like all of the settings, you know, are, you know, compliant with the way that we want it set up, right? Like little things like what's the branch name? What, what is the, like the push rules that, oh, you have to have an approval before you merge into the main branch and etcetera, etcetera, those kinds of other kinds of things, folks, you can obviously do that in the user interface, but why would you do that if you could code it? Um And that's where, that's where we find a lot of people wanting to like automate um that, that kind of thing, group creation, project creation. All that cool. Well, let's, yeah, so maybe let's. So, I guess the first thing we might want to do that we'll use because we're gonna need, if we're gonna have things go into a group, we need to create the group first, correct? Like, so maybe that'll be our first thing we do. Um So you can see we're, we're using Pulumi but we just uh we, we N PM installed, we got the get lab package, but we need to add it to our code. So if you add another import up here. Um and, and again, like if we kind of, if you want to see what we're using, it's not a guide but like all these document, you know, these A PS they're gonna import start import as Get Lab and it's just from at Pulumi slash GLAB. So it's gonna look the, the, the line you have above there. But that, so that's gonna let us use GIT lab. And the first thing we want to create um is this, this group that we're gonna call? So it's gonna be a constant. So you can do constant const and if you're um and then if you'll, we call it, we can just call it example group, we can call it Brendan's group. Like this is the name of the object, right? That we're creating um perfect, right? And then it's gonna be, you can do equal and it's a new now. It's and because we import it so you can do a new git lab and you see this is cool like you've got, hey, what do you think you need to do here? Oh yeah, look at this. So because this is in typescript and we have that package, you get all this, you know, autocomplete stuff for free and then that's gonna take Yep, that and then after the after. So this is, this is the name. Um now one of the things that will happen is yeah, these uh Pulumi auto names. So we're calling it that but it's gonna actually be that name with some type of, of, of something behind it so that there isn't a collision you have to worry about, don't have to worry about collision. So, yep. And then go ahead, you can hit, enter here if you want to make it look prettier. Yep. And then, so one of the, you definitely, yep, we need a path. And so from a, from a git lab perspective, what is the path? Yeah. So this path is so the group can be, you know, probably the path is not required. I would think. I'm trying to see if it is, it is, it is, it is required. So, yeah, so the path is going to be um it's like the name space. So, you know, users and groups are both name spaces. Um And so like, again, for instance, if you're on your own instance, you might make this, you know, match group, but I'm actually gonna do it in a group that already exists on get loud dot com, which is oleary crew. Um And then I'm gonna say underneath that Matt's group, right? Groups can be nested. Yeah. So groups can have subgroups, right? Um So that's why it's a, it's a path, not a parent, right? That that makes a lot of sense. It could be way deeper, right? It could be like my issue board that I work on is get lab dash com slash um marketing slash corporate marketing slash developer evangelist, right? Like, like the literally the same as like kind of our or our org chart, right? Um When it comes to like subgroups now, what's, what's cool that we can do here? So you go, go ahead and just see, I put a comma after that, that cat and this is the only I'm looking at the API docs, the path is the only required um input uh the only required input property, but just a couple of things like I can see, maybe I'll spit a couple of these out and you can tell me like if they might be fun. We could always add them later. But yeah, you'll see. So we have the description that's probably yeah, helpful. Um and we can set things like um so if you, OK, so it does say, ah that would be interesting. I'm actually interested to see if what you just did here is gonna work because it does take an input called parent ID ID, which it says is the idea of the parent group if you want to create a nested group. So we can try, we can also try what you have and we can see what happens. Yeah, let's, let's do it. Um And so go ahead and actually just put a, put a semicolon at the end of your uh parent do, I'm gonna set the. So one other thing I'm gonna do is I'm gonna set the visibility um to public. Um So projects can be private where only the people are invited can see it. Um They can be internal, which doesn't really make sense on glaub dot com because internal means they have to have an account which anyone can have an account to get live dot com um or public. So I just want people to be able to see it if it works. I might as well make it public. Cool. OK. Um Yep. And I think you probably wanna put a comma after that last one just for consistency. It's not, you're not gonna have a compiler problem which will be OK. OK. So if you save this now what we can do. So the first thing if you type in the command um plu me up, it is going to Pulumi is gonna run this program. And the first thing you can go ahead and go, the first thing it's gonna do is it's gonna do a preview, right? It's gonna say like, OK, if you run this is what's gonna happen and we kind of yeah, lost a couple, but we'll see. It says, OK, it has to create, we're gonna see what it's gonna do. It says I have to create a stack because that your, your stack that we created that in in the Pulumi service has not yet been created. We haven't run anything yet, so it needs one and then it's gonna create a group with the name Matt's group. Um Now if you were to go to details, this is gonna be interesting because you know what you're doing, this will actually tell you what it's gonna do. So let's like from an API perspective. So that path it'll be interesting to see. But do you all, do you notice how the name is is got the identifier on it right? Um Now you can override this, but this is really helpful, especially with cloud resources because you don't want to have a name collision. So I would say go ahead and let it run, say yes, we want to perform this update and you also will know how to go look inside. Oh, ok. You see what it didn't like? Uh So you gotta uh forbidden, forbidden hitting the API, so are you sure about your environment variable? I am 99% sure you can, you wanna, you might wanna pop, you might wanna uns share your screen if you want to echo it. So we don't see your, it's also possible. Can we try the parent ID first? I'm wondering if it could be that it doesn't like what you're Yeah, that it tried to like because if it tried to do it just to get dot com. No, I don't have permission to just do anything I want. Um Thankfully let me just try that group ID because I'm wondering if it needs that the parent ID. Sorry, because the, the group I'm trying to create this in has an idea already and it is weird. Is this, do you want this to be a manager? Not sure. Number. Yeah, you do want to be number. Ok, great. So if we were to create a group, the way that you're using it here and you didn't create it path under o'leary crew, but you just called it Mats group. It would then be created at the level of it would just be a new like group, the group, right? You know, like it would be at the level of o'leary crew and it's just, but which I could do too. I could try that. So if this doesn't work, we could try that too. But um so I think then you probably the path is probably just mats group at that point. Yeah, I think you're right. I think you're right. Um Given, given the way that the documentation says that it is to create a subgroup. So OK. Did you say? OK. Well, we'll find out. OK. Yep. That. Yep. One to create one and because it was able to create the stack so it doesn't have to do that again. Ah Yep. Yep. Yep. OK. So now from your, now there's a couple, here's an interesting thing you can do. Now we talked about output. So like I was like, well Brendan might know but I'm like when we want to know what the Web URL is of this, that might be a helpful thing. So go we can export that. So one of the outputs that comes from the group. Uh um Yeah, I can't, I'm just uh from the group um web URL. So do uh um sorry, we wanna, we wanna be able to do so just do uh hang on. I mean, I'm about to do dialogue. If you don't give me something, you're gonna um that's the way I always debug. They're not, they're not. OK. So do like uh Pulumi dot export. Yeah. Yeah. Or no. I, no, I hang on a second. I just, sorry, I'm getting a, a a text from my kids' school again that I just have to look at real quick. So um an output maybe. No. Just, just. Yeah, sorry. Well, well, if you want to poke for a second, I'm gonna poke, I'm, I'm looking at, I'm looking at my text here and then I will uh come and, and help you out. Um I'm, I'm gonna do it and we're gonna, we're gonna, well, Matt's doing that. We're gonna see if I can do it. OK? So OK. That URL. Urn web URL. Oh OK. So Pulumi dot Output create. Yeah, you just need to create a Yeah, you can just, you, you're giving it a value and then you're exporting it. So like I said, I was just gonna cancel that log it but this is much cleaner and nicer, right? Yes. Oh no, I didn't. Oh Wait, wait if you live I got this URL but I didn't get the output. Just do, I'm sorry. Do OK. Do I sorry now that I'm there. No, you're you're actually making your life if you can do all this but it's even easier. Just do export. So delete the whole thing what you just did there. Sorry, I do. Export. Cons is a constant and just call it something like call it, you know, group URL. OK? And then what did we call this resource was Mats group, mass, group mats group dot And I believe the name of that property is web URL. Yep. Yep. OK. Save that and do your plume up again. OK. Yeah, you see that. So now you've got that there. You can also do if you do Pulumi, like if you wanted to be you, you could always do Pulumi stack output and then the name of the, the variable. So, so that gives us that available um in our, in our output and, but I like this. Yeah, it just prints what you, what you export. That's nice. And, and, and again, and then these can actually, now where this is also potentially. And besides the fact that you might want to know it just when you run the program and this will come up in other places, you have to have multiple stacks, maybe you're, you're doing something that's gonna need to get this web URL in another program that you're doing program, it knows how to go get that from the stack. Um Now that said it wouldn't be able to do it right now because this program hasn't run. It's telling you this is what it's gonna create that output, that output doesn't actually exist yet, but you can go ahead and just say yes, run the update, that'll just make it available. Um So that gets us, yeah, that o'leary. So if you wanna do a, so what we've learned is if you want to do a, a subgroup, you can't just pass it like from there. You, you have to tell it the, the, the ID now because we're passing things around. I wonder, I, I bet you could maybe use the path if you were the administrator of the instance. Right. So, like I only have the ability to modify this group, right, as my user. Right. So that, that it's because I'm restricted. But, yeah, yeah, I think, I think that this makes it more clear that you're making like a subgroup, you know, because you have a parent, let's, let's put a project in there, right? Because that's the thing you put in, in groups. So, so the next thing you're gonna, you wanna maybe give us, give us a little, bring your terminal down a little bit. So we need a little more. OK? So, um you're gonna create a very, create the object very similarly where you did cons, you know, so you could call it Matt's project, right? And it's gonna be a new git lab of the type project. So you're gonna see it's gonna look, your code's gonna look very similar. Yep. And where it's gonna have a name, you know, whatever what? And again, this name is. Um Yeah, go ahead and put, we can call it, call it maths project or something like that. I was trying to think what's the platypus name? Is it a platypus Pulumi? Oh That's a dangerous spelling. OK? They are the plum. So when we go to look at a project, this is gonna be very similar. Um, but I'm kind of, I'm looking at some of the inputs and, and stuff that we have in there. So one thing is you're gonna need to have the, um, you might want to have the group ID right now. We could go look up that ID just like the way the parent ID is, but that sure doesn't seem very programmatic. So the name space and then, and that's the, the property that it wants is the name space is called the name space ID. I think. Yep. That makes sense because it could be in your personal name space or it could be sure. Yeah. So go ahead and do add that property of name space ID. But what you can do now. Yep. Yep. And you even say it in there, the name space or group, group or user project. Yep. OK. And set that to uh Matt's group dot ID. So what I was saying that could be cool even with thinking about how we did that with the subgroup is, let's say you had a scenario where you needed to create nested groups all the way down. You could kind of hit each one as it as it goes. Um It's complaining because you don't have the comma I think. Um name space. Oh no capital I and ID. Uh Right. No, you got that. Ok. What does it, the ID is a string? Oh, no, no, no, don't capitalize ID. At the. Yeah. No, no, you got, I think maths group ID. Name, space ID. Yeah, it's expecting a number. But this is a string. True. So, it's a type, it's, it's, it's a type script because it doesn't. Yeah, it wants it to be, it wants ID number and then I'm looking to see what it, what it kicks out. It's a string. Oh, but it wants it to come as a number. Yeah. it's like it's coming. So, I mean, I could just, no, but these are, you're dealing with Pulumi outputs. So they're not, well, I'm gonna, I'm just being, uh, maybe you're gonna, you're gonna do. So what we're gonna do here is we're, it basically we're gonna do an apply, right? Which is what lets us take that raw value and turn it into a different, um, place. So it's, if you wanted to do, um, so a lot of times you can't, uh, you know, it's, it's not really necessarily a string interpolation that what you're trying to do. But if you wanna, um, yeah, because it's, it's a promise of a string, right? Yeah. Like do I have to make sure it exists first before I get that ID back? Right? So, so that's where the apply comes in, right? So if you do a, um, in between these two and look and see why if he wants to change it to. So you, there's a, um, do a actually take the OK, get rid of your, the. Ok. Your name Space ID, you can do a new one. So sorry, I was trying to find another thing. So do name Space ID again. And there's helper, especially in typescript. You've got a couple of helpers that you can do. So do a Pulumi just do Pulumi dot And then, um, because you have can like, um, go scroll down a little bit to your, to your functions. OK. So you should have a two inch, I think. No. Uh why am I blanking on where, where is it on? Is it on like this object that I'm gonna have a, ah, this is it maybe get hm transferring the data, the output or provide eruption. Um So does this apply here? Yeah. Right. So if you do a Yeah, you're basically gonna do. Um, no, it can't be. Right. Oh. Oh, it doesn't promise. I mean, eventually this is close, this is close. It has something to do with this. Apply. Feel free to stop me but kind of poking um to string promise number. Yeah. No, I don't know what that is. Now, I'm now I've lost. Ok. So when you had your, so if you did go back to your apply? Ok. Yeah. No, you were, if you do a dot Apply like that, I want to function and if you do uh so this is where you could do your funk if you wanted to do your two ends inside of there. OK. So you think this, do you think there's a value? Sorry, I'm just reading, well, the pen. OK. In this example D two will apply. Uh OK. Yeah, we want to depend on the resources. OK? I'm just trying to think what I put in the prins BXY other output. Mhm. Mhm. All right. Hold on. No, maybe I don't know if it's right. But I'm gonna try it. What's the worst that can happen? There's definitely gonna be an easier, but part of, part of this is I'm, I'm, I'm, I'm, I'm wanting us to sort of see how we go with it. So you're OK. So we, we went ahead and got our um uh so that was good. This is like get lab api er OK. Uh Let me this. Is this on the project? OK. So let's look at there might be some other, um, are they you? OK? It needs a name. Looks like it's the only thing that is required, but it's complaining about the mirror. Yeah, these are, these are, you know, get lab things only mirror protective branches. Mhm. Lab index project resource. Now, why didn't it, why doesn't, it doesn't have the group here? It doesn't have to um uh because it's not, uh let me, let's see what's going on with your, see, that's why I'm suspecting. It's, yeah, because it should be. 000, you need a semicolon after your last parent. So you're you're kind of, yeah. OK. Run again here. Mhm. It, it still doesn't see the, the, the group resource though you're saying? Right. Yeah. It's like, is it trying to do or, or like it has to create the group before it can create the project? It's like almost like is it trying to create the project or it creates a group? I wonder. Yeah, you might be having a grow from here. OK. Let me check out this. It also has a path. Like I wonder, I just, just for the sake of fun on a better path, it's gonna be uh what I'm not gonna like about that. I wonder. Mhm. Same problem. Ok. Well, let me just specify these things and see if it likes all of import mirror must be so I don't want to mirror anything. Um ok. So it looks like there is a um no. Ok. So there, there's actually an issue on this package for exactly what you're running into. Oh, really? So if you, so why don't you do this? Go back into your uh package dot json. Yep and change the version of this, of the GLAB provider to 4.1. And then yeah. No, no, no, not 4.4 0.14 0.1 0.0. Sorry. Ok. I might have to delete you have your package modules. Yeah. Yeah. And the package lock to do. Ok. Try to plue me up that now. Oh, well, say whatever you're, you're at, you probably don't need that mirror that, that, that mirror setup stuff was all part of the, that, that issue in the provider. So, hm. Ok. Um Still, uh this greater than did that get me? I wonder what version it actually pulled mean lock it to exactly that version. Do that again. I think that'll do. I can never remember. There's like a tilda and I, I can never remember what they mean. Um There's like a tilda or the carrot and I mean, different things. Rmrf. No model should just really be a shortcut on my desktop, but all right, all done on you. Sure. That's better. I know. But it just seems it just still doesn't see the group in there. But I think that's, um, you should be ok though because it doesn't have to change. It's, it's unchanged. So it's probably fine. Ok. And then update failed. What did it not like? Yeah, it's, oh, no. Oh, between letters digits. What did I do? Oh, because you tried to give it the pat. You, you, yeah, you were fussing with that there. Go ahead and instead of doing the pat, see, I suspect that some of this, let's just go all the way back because you should be able to do what we were trying to do. And I think the types might be wrong on that version you had or you should be able to just go back to the mats project. Like this is, this should work. That's the, but I think it's, that the types are not defined. Right. And if you do ID here, yeah. No, it, it still doesn't, like, um, yeah, it's like how do we get an output to go be an input? That's what I'm right. Yeah. But I, I, I'm, uh, so it's still, yeah, it's kind of the same thing but this is all this, this should, it's, it's because it still wants to say that it's, yeah, something in the typing. Um So if you had, oh, what, what do you have the dot ID? You can go back. Uh Can you just comma there? OK. And what does it, is it still claim it's still complaining that it's a string, it's an output string and not an input number. Yeah, it doesn't. Yeah. So I, I'm just sort of trying to puzzle out like I, we can do these with the inputs and outputs but like I want with the apply but I just wanted to, we shouldn't have to um in this particular case. So if you, if you do um so what if you, if you say? OK, so, so do Matt Matt, then, then do a dot Apply. Mhm. And then if you just print inside there and just call it uh just try group ID or, or, or do the maths group dot id, I think, or is it just ID? No, I think it it once they apply is like taking some function as a Yeah, that's what I'm not quite seeing like is there a way to get it before we come in here? So we have to tell it that it relies on it. Well, so if you do the, you know, so you did the dot apply and then do I think there's an example? Yeah. So if you do OK, the record, I don't know the example shows it exactly how you were saying it. Yeah, that's why I was trying to think. Why don't you just use the constant, you know. Um So yeah, it's maths group dot ID. That's, that's what it shows as an example but it didn't like that. Maybe it's just a ID E thing. Like maybe it works well. It's gonna be typescript but see what, see what your Pulumi up does. Yeah. It's the same, the same, the same problem. But this, this is just mm mhm hm. Mhm. Yeah. So go back to your line 10 and do a constant. Yeah, basically. Yeah. Yeah. You, you, you, that's what you're doing. Yeah. Yeah. But, but do the apply but apply. I need something inside of that. I don't understand. Well, it's a function, right? So you can, you can just do, um you're basically you could use also like output, right? So if we do, yeah, not drink. Yeah, it's the lambda function is what you want there. OK. That might be it. I think it's not wrapping very nicely on my, let me turn on wrapping. There we go. Ok. All right. So yeah, that's what I was thinking. We need to get like the output so that it runs the apply of the group four because it doesn't have an ID yet. Mhm. Yeah. Uh look at that. Ok. And so then similarly we should be able to go and just like um so if we were to take a go back and take a look at the, the, the project resource that also has an output, which is the um um we, you are so the same thing so you could do it. It's, it's Yeah, exactly. And then WRL. OK. All right. Let's see that again. OK. So that's oop. So what is that? So if we go to get loops, I can't type. So go yeah, get lab dot com slash o'leary crew slash group slash Pulumi a stash and we can override this. Like this is because it did the auto naming right. We have, but that's all nice. Oh I'm not, I'm not signed in a git lab in this instance of my browser. So none of that um works. So, yeah, I have it up there. It works. So if you wanna, I can share it out. All right, cool. And one of the things that we can um Yeah, so I think that kind of gives us some, some pretty basic stuff. We we accomplished what we wanted to accomplish, which was Brendan has not done this before Brendan has now done this and we did some get lay things. Um I would say, uh let's uh you know, tune, tune in next week. At the same time. Uh Laila Porter is gonna be joining us. We're gonna be uh doing some dot net configuration in two weeks from today. We'll be doing a similar thing with data dog, do some instrumenting of, of code with data dog using Pulumi and take us there, Brendan. Thanks for, for joining me today. Um Hope you had a good time. Yeah, that was awesome. Thanks for introducing me to Pulumi. I'm, I'm excited to play around with a little bit more and maybe uh maybe show you some, some neat stuff once I get a chance to kind of dive into it. Yeah, it's like we play some more and there's, there's uh a lot of capability for being able to set up in a situation when you're doing something like this where if you want people to be able to create new git lab projects and stuff in your organization, according to all of the, the, the set up that you want, they could actually just do it through merge requests to your Pulumi program. Um And, and all of that goes and we, we see people doing that with different uh tools like this all the time. So, yeah, thanks. And uh we will see you all on the internet.

---
