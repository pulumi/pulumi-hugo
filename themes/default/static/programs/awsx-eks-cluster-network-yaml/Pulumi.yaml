name: awsx-eks-cluster-network-yaml
runtime: yaml
description: An example that deploys a Kubernetes cluster on AWS.
resources:
  # Create a VPC for our cluster.
  vpc:
    type: awsx:ec2:Vpc
  # Create an EKS cluster within the VPC.
  cluster:
    type: eks:Cluster
    properties:
      vpcId: ${vpc.vpcId}
      publicSubnetIds: ${vpc.publicSubnetIds}
      privateSubnetIds: ${vpc.privateSubnetIds}
      nodeAssociatePublicIpAddress: false
outputs:
  # Export the cluster's kubeconfig.
  kubeconfig: ${cluster.kubeconfig}
